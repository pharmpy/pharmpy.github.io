
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>pharmpy.cli &#8212; Pharmpy 0.25.1 documentation</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.f6b7ca918bee2f46fd9abac01cfb07d5.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1e043a052b0af929e4d8.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">


    
    <a class="navbar-brand" href="../../index.html">
      <p class="title">Pharmpy</p>
    </a>
    

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    
    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../getting_started.html">
  Getting started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../user_guide.html">
  User guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../reference/modules.html">
  API reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../contribute.html">
  Contribute
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../changelog.html">
  Changelog
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../license.html">
  License
 </a>
</li>

        
      </ul>

      <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
<h3><a href="../../index.html">Table of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user_guide.html">User guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/modules.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute.html">Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>

            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              

<nav id="bd-toc-nav">
    
</nav>


              
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <h1>Source code for pharmpy.cli</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">.. highlight:: console</span>

<span class="sd">============================</span>
<span class="sd">The CLI interface of Pharmpy</span>
<span class="sd">============================</span>

<span class="sd">Examples</span>
<span class="sd">--------</span>

<span class="sd">Example argument lines (only preceeded by ``pharmpy`` or ``python3 -m pharmpy``)::</span>

<span class="sd">    # filter data (as model prescribes) and output to file &#39;output.csv&#39;</span>
<span class="sd">    pharmpy data write run1.mod -o output.csv</span>

<span class="sd">Entrypoints and Subcommands</span>
<span class="sd">---------------------------</span>

<span class="sd">Standard practice of packaging is to define &quot;entrypoints&quot; in the setuptools ``setup.py``. Currently:</span>

<span class="sd">.. code-block:: python</span>

<span class="sd">  entry_points={</span>
<span class="sd">      &#39;console_scripts&#39;: [</span>
<span class="sd">          &#39;pharmpy           = pharmpy.cli:main&#39;,</span>
<span class="sd">      ]</span>
<span class="sd">  },</span>

<span class="sd">Main entrypoint is ``pharmpy`` (which maps :func:`main`), but each subcommand could be given a</span>
<span class="sd">shortcutting entrypoint (e.g. :func:`sumo`). This would be accomplished via invoking:</span>

<span class="sd">Installing Pharmpy Wheel-build should install all of these to PATH. Then, these are clean targets</span>
<span class="sd">for post-install hooks to symlink. Either to pollute the PATH namespace with traditional PsN-styled</span>
<span class="sd">&quot;binscripts&quot;, as::</span>

<span class="sd">    /usr/bin/execute               -&gt;  /usr/bin/pharmpy execute</span>

<span class="sd">Or, to keep multiple versions when upgrading Pharmpy.</span>

<span class="sd">On Logging</span>
<span class="sd">----------</span>

<span class="sd">As a CLI we are at the top, interacting with the user. All of Pharmpy will get messages</span>
<span class="sd">filtered through here (loggers organize themselves in a hiearchy based on their period-split names).</span>

<span class="sd">.. warning::</span>
<span class="sd">    Loggers **mustn&#39;t** be configurated if imported as library (e.g. set handlers and such),</span>
<span class="sd">    since that should bubble up into the lap of whomever is at the top (of the Python</span>
<span class="sd">    period-separated namespace).</span>

<span class="sd">Definitions</span>
<span class="sd">===========</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">argparse</span>
<span class="kn">import</span> <span class="nn">importlib</span>
<span class="kn">import</span> <span class="nn">pathlib</span>
<span class="kn">import</span> <span class="nn">pydoc</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">types</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">OrderedDict</span><span class="p">,</span> <span class="n">namedtuple</span>
<span class="kn">from</span> <span class="nn">textwrap</span> <span class="kn">import</span> <span class="n">dedent</span>


<div class="viewcode-block" id="LazyLoader"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.LazyLoader">[docs]</a><span class="k">class</span> <span class="nc">LazyLoader</span><span class="p">(</span><span class="n">types</span><span class="o">.</span><span class="n">ModuleType</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Class that masquerades as a module and lazily loads it when accessed the first time</span>

<span class="sd">    The code for the class is taken from TensorFlow and is under the Apache 2.0 license</span>

<span class="sd">    This is needed for the cli to be able to do things as version and help quicker than</span>
<span class="sd">    if all modules were imported.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">local_name</span><span class="p">,</span> <span class="n">parent_module_globals</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_local_name</span> <span class="o">=</span> <span class="n">local_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_module_globals</span> <span class="o">=</span> <span class="n">parent_module_globals</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">LazyLoader</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Import the target module and insert it into the parent&#39;s namespace</span>
        <span class="n">module</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_module_globals</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_local_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">module</span>

        <span class="c1"># Update this object&#39;s dict so that if someone keeps a reference to the</span>
        <span class="c1">#   LazyLoader, lookups are efficient (__getattr__ is only called on lookups</span>
        <span class="c1">#   that fail).</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">module</span>

    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="n">module</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__dir__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">module</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_load</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">dir</span><span class="p">(</span><span class="n">module</span><span class="p">)</span></div>


<span class="n">pharmpy</span> <span class="o">=</span> <span class="n">LazyLoader</span><span class="p">(</span><span class="s1">&#39;pharmpy&#39;</span><span class="p">,</span> <span class="nb">globals</span><span class="p">(),</span> <span class="s1">&#39;pharmpy&#39;</span><span class="p">)</span>
<span class="n">np</span> <span class="o">=</span> <span class="n">LazyLoader</span><span class="p">(</span><span class="s1">&#39;numpy&#39;</span><span class="p">,</span> <span class="nb">globals</span><span class="p">(),</span> <span class="s1">&#39;numpy&#39;</span><span class="p">)</span>
<span class="n">iterators</span> <span class="o">=</span> <span class="n">LazyLoader</span><span class="p">(</span><span class="s1">&#39;iterators&#39;</span><span class="p">,</span> <span class="nb">globals</span><span class="p">(),</span> <span class="s1">&#39;pharmpy.data.iterators&#39;</span><span class="p">)</span>
<span class="n">plugin_utils</span> <span class="o">=</span> <span class="n">LazyLoader</span><span class="p">(</span><span class="s1">&#39;plugin_utils&#39;</span><span class="p">,</span> <span class="nb">globals</span><span class="p">(),</span> <span class="s1">&#39;pharmpy.plugins.utils&#39;</span><span class="p">)</span>

<span class="n">formatter</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentDefaultsHelpFormatter</span>


<div class="viewcode-block" id="warnings_formatter"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.warnings_formatter">[docs]</a><span class="k">def</span> <span class="nf">warnings_formatter</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;Warning: </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span></div>


<span class="n">warnings</span><span class="o">.</span><span class="n">formatwarning</span> <span class="o">=</span> <span class="n">warnings_formatter</span>


<div class="viewcode-block" id="error"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.error">[docs]</a><span class="k">def</span> <span class="nf">error</span><span class="p">(</span><span class="n">exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Raise the exception with no traceback printed</span>

<span class="sd">    Used for non-recoverables in CLI. Exceptions giving traceback are bugs!</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">exc_only_hook</span><span class="p">(</span><span class="n">exception_type</span><span class="p">,</span> <span class="n">exception</span><span class="p">,</span> <span class="n">traceback</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">exception_type</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">exception</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="n">sys</span><span class="o">.</span><span class="n">excepthook</span> <span class="o">=</span> <span class="n">exc_only_hook</span>
    <span class="k">raise</span> <span class="n">exception</span></div>


<div class="viewcode-block" id="format_keyval_pairs"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.format_keyval_pairs">[docs]</a><span class="k">def</span> <span class="nf">format_keyval_pairs</span><span class="p">(</span><span class="n">data_dict</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">right_just</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Formats lines from *data_dict*.&quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">data_dict</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>

    <span class="n">key_width</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">field</span><span class="p">)</span> <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">data_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="k">if</span> <span class="n">sort</span><span class="p">:</span>
        <span class="n">data_dict</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">data_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
    <span class="k">if</span> <span class="n">right_just</span><span class="p">:</span>
        <span class="n">line_format</span> <span class="o">=</span> <span class="s1">&#39;  </span><span class="si">%%%d</span><span class="s1">s</span><span class="se">\t</span><span class="si">%%</span><span class="s1">s&#39;</span> <span class="o">%</span> <span class="n">key_width</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">line_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%%</span><span class="s1">-</span><span class="si">%d</span><span class="s1">s</span><span class="se">\t</span><span class="si">%%</span><span class="s1">s&#39;</span> <span class="o">%</span> <span class="n">key_width</span>

    <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">values</span> <span class="ow">in</span> <span class="n">data_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">values</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
        <span class="n">keys</span> <span class="o">=</span> <span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
            <span class="n">lines</span> <span class="o">+=</span> <span class="p">[</span><span class="n">line_format</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)]</span>

    <span class="k">return</span> <span class="n">lines</span></div>


<div class="viewcode-block" id="run_bootstrap"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.run_bootstrap">[docs]</a><span class="k">def</span> <span class="nf">run_bootstrap</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">pharmpy.tools.bootstrap</span> <span class="k">as</span> <span class="nn">bootstrap</span>

    <span class="n">method</span> <span class="o">=</span> <span class="n">bootstrap</span><span class="o">.</span><span class="n">Bootstrap</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">resamples</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">samples</span><span class="p">)</span>
    <span class="n">method</span><span class="o">.</span><span class="n">run</span><span class="p">()</span></div>


<div class="viewcode-block" id="run_execute"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.run_execute">[docs]</a><span class="k">def</span> <span class="nf">run_execute</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">pharmpy.tools.modelfit</span> <span class="k">as</span> <span class="nn">modelfit</span>

    <span class="n">method</span> <span class="o">=</span> <span class="n">modelfit</span><span class="o">.</span><span class="n">Modelfit</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">models</span><span class="p">)</span>
    <span class="n">method</span><span class="o">.</span><span class="n">run</span><span class="p">()</span></div>


<div class="viewcode-block" id="run_modelsearch"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.run_modelsearch">[docs]</a><span class="k">def</span> <span class="nf">run_modelsearch</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">pharmpy.tools.modelsearch</span> <span class="k">as</span> <span class="nn">modelsearch</span>

    <span class="n">method</span> <span class="o">=</span> <span class="n">modelsearch</span><span class="o">.</span><span class="n">ModelSearch</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">algorithm</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">funcs</span><span class="p">,</span> <span class="n">rankfunc</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">rankfunc</span><span class="p">)</span>
    <span class="n">method</span><span class="o">.</span><span class="n">run</span><span class="p">()</span></div>


<div class="viewcode-block" id="data_write"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.data_write">[docs]</a><span class="k">def</span> <span class="nf">data_write</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to write a dataset.&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model_or_dataset</span><span class="o">.</span><span class="n">dataset</span>
    <span class="k">except</span> <span class="n">plugin_utils</span><span class="o">.</span><span class="n">PluginError</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model_or_dataset</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">output_file</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># If no output_file supplied will use name of df</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">pharmpy</span><span class="o">.</span><span class="n">write_csv</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">force</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Dataset written to </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div>


<div class="viewcode-block" id="data_print"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.data_print">[docs]</a><span class="k">def</span> <span class="nf">data_print</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to print a dataset to stdout via pager&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model_or_dataset</span><span class="o">.</span><span class="n">dataset</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model_or_dataset</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">args</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="n">pydoc</span><span class="o">.</span><span class="n">pager</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">to_string</span><span class="p">())</span></div>


<div class="viewcode-block" id="data_filter"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.data_filter">[docs]</a><span class="k">def</span> <span class="nf">data_filter</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to filter a dataset&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model_or_dataset</span><span class="o">.</span><span class="n">dataset</span>
    <span class="k">except</span> <span class="n">plugin_utils</span><span class="o">.</span><span class="n">PluginError</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model_or_dataset</span>
    <span class="n">expression</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">expressions</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">expression</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">SyntaxError</span><span class="p">:</span>
        <span class="n">error</span><span class="p">(</span><span class="ne">SyntaxError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid syntax of query: &quot;</span><span class="si">{</span><span class="n">expression</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">BaseException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">model_or_dataset</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">force</span><span class="p">)</span></div>


<div class="viewcode-block" id="data_append"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.data_append">[docs]</a><span class="k">def</span> <span class="nf">data_append</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to append a column to a dataset&quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model_or_dataset</span><span class="o">.</span><span class="n">dataset</span>
    <span class="k">except</span> <span class="n">plugin_utils</span><span class="o">.</span><span class="n">PluginError</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model_or_dataset</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">df</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">expression</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">SyntaxError</span><span class="p">:</span>
        <span class="n">error</span><span class="p">(</span><span class="ne">SyntaxError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid syntax of expression: &quot;</span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">expression</span><span class="si">}</span><span class="s1">&quot;&#39;</span><span class="p">))</span>
    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">model_or_dataset</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">force</span><span class="p">)</span></div>


<div class="viewcode-block" id="write_model_or_dataset"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.write_model_or_dataset">[docs]</a><span class="k">def</span> <span class="nf">write_model_or_dataset</span><span class="p">(</span><span class="n">model_or_dataset</span><span class="p">,</span> <span class="n">new_df</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">force</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Write model or dataset to output_path or using default names&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">model_or_dataset</span><span class="p">,</span> <span class="s1">&#39;pharmpy&#39;</span><span class="p">):</span>
        <span class="c1"># Is a dataset</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># If no output_file supplied will use name of df</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">new_df</span><span class="o">.</span><span class="n">pharmpy</span><span class="o">.</span><span class="n">write_csv</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Dataset written to </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">FileExistsError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">error</span><span class="p">(</span>
                <span class="n">exception</span><span class="o">=</span><span class="ne">FileExistsError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> Use -f  or --force to &#39;</span> <span class="s1">&#39;force an overwrite&#39;</span>
                <span class="p">)</span>
            <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Is a model</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">model_or_dataset</span>
        <span class="k">if</span> <span class="n">new_df</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">model</span><span class="o">.</span><span class="n">dataset</span> <span class="o">=</span> <span class="n">new_df</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
                    <span class="n">model</span><span class="o">.</span><span class="n">bump_model_number</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                <span class="n">model</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">model</span><span class="o">.</span><span class="n">bump_model_number</span><span class="p">()</span>
                <span class="n">model</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">FileExistsError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">error</span><span class="p">(</span><span class="ne">FileExistsError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1"> Use -f or --force to &#39;</span> <span class="s1">&#39;force an overwrite&#39;</span><span class="p">))</span></div>


<div class="viewcode-block" id="data_resample"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.data_resample">[docs]</a><span class="k">def</span> <span class="nf">data_resample</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to resample a dataset.&quot;&quot;&quot;</span>
    <span class="n">resampler</span> <span class="o">=</span> <span class="n">iterators</span><span class="o">.</span><span class="n">Resample</span><span class="p">(</span>
        <span class="n">args</span><span class="o">.</span><span class="n">model_or_dataset</span><span class="p">,</span>
        <span class="n">args</span><span class="o">.</span><span class="n">group</span><span class="p">,</span>
        <span class="n">resamples</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">resamples</span><span class="p">,</span>
        <span class="n">stratify</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">stratify</span><span class="p">,</span>
        <span class="n">replace</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">replace</span><span class="p">,</span>
        <span class="n">sample_size</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">sample_size</span><span class="p">,</span>
        <span class="n">name_pattern</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">model_or_dataset</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">_resample_</span><span class="se">{{}}</span><span class="s1">&#39;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">resampled_obj</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">resampler</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">resampled_obj</span><span class="o">.</span><span class="n">write</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="n">resampled_obj</span><span class="o">.</span><span class="n">pharmpy</span><span class="o">.</span><span class="n">write_csv</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></div>


<div class="viewcode-block" id="data_anonymize"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.data_anonymize">[docs]</a><span class="k">def</span> <span class="nf">data_anonymize</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to anonymize a dataset</span>
<span class="sd">    anonymization is really a special resample case where the specified group</span>
<span class="sd">    (usually the ID) is given new random unique values and reordering.</span>
<span class="sd">    Will be default try to overwrite original file (but won&#39;t unless force)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">check_input_path</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">dataset</span><span class="p">)</span>
    <span class="n">dataset</span> <span class="o">=</span> <span class="n">pharmpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">parse_columns</span><span class="o">=</span><span class="p">[</span><span class="n">args</span><span class="o">.</span><span class="n">group</span><span class="p">])</span>
    <span class="n">resampler</span> <span class="o">=</span> <span class="n">pharmpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iterators</span><span class="o">.</span><span class="n">Resample</span><span class="p">(</span><span class="n">dataset</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">group</span><span class="p">)</span>
    <span class="n">df</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">resampler</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">:</span>
        <span class="n">output_file</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">output_file</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">output_file</span> <span class="o">=</span> <span class="n">path</span>
    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">output_file</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">force</span><span class="p">)</span></div>


<div class="viewcode-block" id="info"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.info">[docs]</a><span class="k">def</span> <span class="nf">info</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to print Pharmpy info (and brag a little bit).&quot;&quot;&quot;</span>

    <span class="n">Install</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;VersionInfo&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;version&#39;</span><span class="p">,</span> <span class="s1">&#39;authors&#39;</span><span class="p">,</span> <span class="s1">&#39;directory&#39;</span><span class="p">])</span>
    <span class="n">inst</span> <span class="o">=</span> <span class="n">Install</span><span class="p">(</span>
        <span class="n">pharmpy</span><span class="o">.</span><span class="n">__version__</span><span class="p">,</span>
        <span class="s1">&#39;A list of authors can be found in the AUTHORS.rst&#39;</span><span class="p">,</span>
        <span class="nb">str</span><span class="p">(</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">pharmpy</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="n">lines</span> <span class="o">=</span> <span class="n">format_keyval_pairs</span><span class="p">(</span><span class="n">inst</span><span class="o">.</span><span class="n">_asdict</span><span class="p">(),</span> <span class="n">right_just</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">))</span></div>


<div class="viewcode-block" id="model_print"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.model_print">[docs]</a><span class="k">def</span> <span class="nf">model_print</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand for formatting/printing model components.&quot;&quot;&quot;</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">model</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">models</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">explicit_odes</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">explicit_odes</span>

            <span class="n">explicit_odes</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
        <span class="n">lines</span> <span class="o">+=</span> <span class="p">[</span><span class="s1">&#39;[</span><span class="si">%d</span><span class="s1">/</span><span class="si">%d</span><span class="s1">] </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">models</span><span class="p">),</span> <span class="n">model</span><span class="o">.</span><span class="n">name</span><span class="p">)]</span>
        <span class="n">dict_</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">dict_</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">dataset</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">FileNotFoundError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">dict_</span><span class="p">[</span><span class="s1">&#39;dataset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span>
        <span class="n">dict_</span><span class="p">[</span><span class="s1">&#39;parameters&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span>
        <span class="n">s</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">random_variables</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span>
        <span class="n">dict_</span><span class="p">[</span><span class="s1">&#39;random_variables&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span>
        <span class="n">s</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span>
        <span class="n">dict_</span><span class="p">[</span><span class="s1">&#39;model_statements&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">s</span>
        <span class="n">dict_lines</span> <span class="o">=</span> <span class="n">format_keyval_pairs</span><span class="p">(</span><span class="n">dict_</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">lines</span> <span class="o">+=</span> <span class="p">[</span><span class="s1">&#39;</span><span class="se">\t</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">line</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">dict_lines</span><span class="p">]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">24</span><span class="p">:</span>
        <span class="n">pydoc</span><span class="o">.</span><span class="n">pager</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lines</span><span class="p">))</span></div>


<div class="viewcode-block" id="model_sample"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.model_sample">[docs]</a><span class="k">def</span> <span class="nf">model_sample</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model</span>
    <span class="kn">from</span> <span class="nn">pharmpy.parameter_sampling</span> <span class="kn">import</span> <span class="n">sample_from_covariance_matrix</span>

    <span class="n">samples</span> <span class="o">=</span> <span class="n">sample_from_covariance_matrix</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">samples</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">row</span><span class="p">,</span> <span class="n">params</span> <span class="ow">in</span> <span class="n">samples</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="n">model</span><span class="o">.</span><span class="n">parameters</span> <span class="o">=</span> <span class="n">params</span>
        <span class="n">model</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;sample_</span><span class="si">{</span><span class="n">row</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="n">model</span><span class="o">.</span><span class="n">write</span><span class="p">()</span></div>


<div class="viewcode-block" id="add_covariate_effect"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.add_covariate_effect">[docs]</a><span class="k">def</span> <span class="nf">add_covariate_effect</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to add covariate effect to model.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">add_covariate_effect</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model</span>
    <span class="n">add_covariate_effect</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">param</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">covariate</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">effect</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">operation</span><span class="p">)</span>

    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">dataset</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>


<div class="viewcode-block" id="model_explicit_odes"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.model_explicit_odes">[docs]</a><span class="k">def</span> <span class="nf">model_explicit_odes</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">explicit_odes</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model</span>
    <span class="n">explicit_odes</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">force</span><span class="p">)</span></div>


<div class="viewcode-block" id="model_absorption_rate"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.model_absorption_rate">[docs]</a><span class="k">def</span> <span class="nf">model_absorption_rate</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">pharmpy.modeling</span> <span class="k">as</span> <span class="nn">modeling</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">order</span> <span class="o">==</span> <span class="s1">&#39;ZO&#39;</span><span class="p">:</span>
        <span class="n">modeling</span><span class="o">.</span><span class="n">zero_order_absorption</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">order</span> <span class="o">==</span> <span class="s1">&#39;FO&#39;</span><span class="p">:</span>
        <span class="n">modeling</span><span class="o">.</span><span class="n">first_order_absorption</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">order</span> <span class="o">==</span> <span class="s1">&#39;bolus&#39;</span><span class="p">:</span>
        <span class="n">modeling</span><span class="o">.</span><span class="n">bolus_absorption</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">order</span> <span class="o">==</span> <span class="s1">&#39;seq-ZO-FO&#39;</span><span class="p">:</span>
        <span class="n">modeling</span><span class="o">.</span><span class="n">seq_zo_fo_absorption</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">force</span><span class="p">)</span></div>


<div class="viewcode-block" id="model_elimination_rate"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.model_elimination_rate">[docs]</a><span class="k">def</span> <span class="nf">model_elimination_rate</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">pharmpy.modeling</span> <span class="k">as</span> <span class="nn">modeling</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">order</span> <span class="o">==</span> <span class="s1">&#39;ZO&#39;</span><span class="p">:</span>
        <span class="n">modeling</span><span class="o">.</span><span class="n">zero_order_elimination</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">order</span> <span class="o">==</span> <span class="s1">&#39;FO&#39;</span><span class="p">:</span>
        <span class="n">modeling</span><span class="o">.</span><span class="n">first_order_elimination</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">order</span> <span class="o">==</span> <span class="s1">&#39;MM&#39;</span><span class="p">:</span>
        <span class="n">modeling</span><span class="o">.</span><span class="n">michaelis_menten_elimination</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">order</span> <span class="o">==</span> <span class="s1">&#39;comb-FO-MM&#39;</span><span class="p">:</span>
        <span class="n">modeling</span><span class="o">.</span><span class="n">combined_mm_fo_elimination</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">force</span><span class="p">)</span></div>


<div class="viewcode-block" id="model_transit_compartments"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.model_transit_compartments">[docs]</a><span class="k">def</span> <span class="nf">model_transit_compartments</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">set_transit_compartments</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model</span>
    <span class="n">set_transit_compartments</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">n</span><span class="p">)</span>
    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">force</span><span class="p">)</span></div>


<div class="viewcode-block" id="model_peripheral_compartments"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.model_peripheral_compartments">[docs]</a><span class="k">def</span> <span class="nf">model_peripheral_compartments</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">add_peripheral_compartment</span><span class="p">,</span> <span class="n">remove_peripheral_compartment</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">find_peripherals</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">args</span><span class="o">.</span><span class="n">n</span><span class="p">:</span>
        <span class="n">func</span> <span class="o">=</span> <span class="n">add_peripheral_compartment</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">args</span><span class="o">.</span><span class="n">n</span><span class="p">:</span>
        <span class="n">func</span> <span class="o">=</span> <span class="n">remove_peripheral_compartment</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">iters</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="o">-</span> <span class="n">args</span><span class="o">.</span><span class="n">n</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">iters</span><span class="p">):</span>
        <span class="n">func</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">force</span><span class="p">)</span></div>


<div class="viewcode-block" id="model_error"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.model_error">[docs]</a><span class="k">def</span> <span class="nf">model_error</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">error_model</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model</span>
    <span class="n">error_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">error_type</span><span class="p">)</span>
    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">force</span><span class="p">)</span></div>


<div class="viewcode-block" id="boxcox"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.boxcox">[docs]</a><span class="k">def</span> <span class="nf">boxcox</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to apply boxcox transformation to specified etas of model.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">boxcox</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">etas</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">etas</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="n">etas</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">etas</span>

    <span class="n">boxcox</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">etas</span><span class="p">)</span>
    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>


<div class="viewcode-block" id="tdist"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.tdist">[docs]</a><span class="k">def</span> <span class="nf">tdist</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to apply t-distribution transformation to specified etas of model.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">tdist</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">etas</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">etas</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="n">etas</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">etas</span>

    <span class="n">tdist</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">etas</span><span class="p">)</span>
    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>


<div class="viewcode-block" id="john_draper"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.john_draper">[docs]</a><span class="k">def</span> <span class="nf">john_draper</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to apply John Draper transformation to specified etas of model.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">john_draper</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">etas</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">etas</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="n">etas</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">etas</span>

    <span class="n">john_draper</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">etas</span><span class="p">)</span>
    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>


<div class="viewcode-block" id="add_iiv"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.add_iiv">[docs]</a><span class="k">def</span> <span class="nf">add_iiv</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to add new IIVs to model.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">add_iiv</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model</span>
    <span class="n">add_iiv</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">param</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">expression</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">operation</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">eta_name</span><span class="p">)</span>

    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">dataset</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>


<div class="viewcode-block" id="add_iov"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.add_iov">[docs]</a><span class="k">def</span> <span class="nf">add_iov</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to add new IOVs to model.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">add_iov</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">etas</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">etas</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="n">etas</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">etas</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">eta_names</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">eta_names</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="n">eta_names</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">eta_names</span>

    <span class="n">add_iov</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">occ</span><span class="p">,</span> <span class="n">etas</span><span class="p">,</span> <span class="n">eta_names</span><span class="p">)</span>

    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">dataset</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>


<div class="viewcode-block" id="create_rv_block"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.create_rv_block">[docs]</a><span class="k">def</span> <span class="nf">create_rv_block</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to create full or partial block structures.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">create_rv_block</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">etas</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">etas</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="n">etas</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">etas</span>

    <span class="n">create_rv_block</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">etas</span><span class="p">)</span>

    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">dataset</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>


<div class="viewcode-block" id="iiv_on_ruv"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.iiv_on_ruv">[docs]</a><span class="k">def</span> <span class="nf">iiv_on_ruv</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to multiply epsilons with exponential etas.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">iiv_on_ruv</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">eps</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">eps</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="n">eps</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">eps</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">eta_names</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">eta_names</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="n">eta_names</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">eta_names</span>

    <span class="n">iiv_on_ruv</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">eps</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">same_eta</span><span class="p">,</span> <span class="n">eta_names</span><span class="p">)</span>

    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">dataset</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>


<div class="viewcode-block" id="remove_iiv"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.remove_iiv">[docs]</a><span class="k">def</span> <span class="nf">remove_iiv</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to remove IIVs.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">remove_iiv</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">to_remove</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">to_remove</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="n">to_remove</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">to_remove</span>

    <span class="n">remove_iiv</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">to_remove</span><span class="p">)</span>

    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">dataset</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>


<div class="viewcode-block" id="remove_iov"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.remove_iov">[docs]</a><span class="k">def</span> <span class="nf">remove_iov</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to remove IOVs.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">remove_iov</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model</span>
    <span class="n">remove_iov</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>

    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">dataset</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>


<div class="viewcode-block" id="power_on_ruv"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.power_on_ruv">[docs]</a><span class="k">def</span> <span class="nf">power_on_ruv</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to apply power effect to RUVs.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">power_on_ruv</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">eps</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">eps</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="n">eps</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">eps</span>

    <span class="n">power_on_ruv</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">eps</span><span class="p">)</span>

    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">dataset</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>


<div class="viewcode-block" id="update_inits"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.update_inits">[docs]</a><span class="k">def</span> <span class="nf">update_inits</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to update initial estimates from previous output.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">update_inits</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">model</span>
    <span class="n">update_inits</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">force_update</span><span class="p">)</span>

    <span class="n">write_model_or_dataset</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">dataset</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">output_file</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></div>


<div class="viewcode-block" id="results_bootstrap"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.results_bootstrap">[docs]</a><span class="k">def</span> <span class="nf">results_bootstrap</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to generate bootstrap results&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">pharmpy.tools.bootstrap.results</span> <span class="kn">import</span> <span class="n">psn_bootstrap_results</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
        <span class="n">error</span><span class="p">(</span><span class="ne">FileNotFoundError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="p">)))</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">psn_bootstrap_results</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="n">res</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span> <span class="o">/</span> <span class="s1">&#39;results.json&#39;</span><span class="p">)</span>
    <span class="n">res</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span> <span class="o">/</span> <span class="s1">&#39;results.csv&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="results_cdd"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.results_cdd">[docs]</a><span class="k">def</span> <span class="nf">results_cdd</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">pharmpy.tools.cdd.results</span> <span class="kn">import</span> <span class="n">psn_cdd_results</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
        <span class="n">error</span><span class="p">(</span><span class="ne">FileNotFoundError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="p">)))</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">psn_cdd_results</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="p">)</span>
    <span class="n">res</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span> <span class="o">/</span> <span class="s1">&#39;results.json&#39;</span><span class="p">)</span>
    <span class="n">res</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span> <span class="o">/</span> <span class="s1">&#39;results.csv&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="results_frem"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.results_frem">[docs]</a><span class="k">def</span> <span class="nf">results_frem</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Generate frem results&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">pharmpy.tools.frem.results</span> <span class="kn">import</span> <span class="n">psn_frem_results</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
        <span class="n">error</span><span class="p">(</span><span class="ne">FileNotFoundError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="p">)))</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">psn_frem_results</span><span class="p">(</span>
        <span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="p">,</span>
        <span class="n">method</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">method</span><span class="p">,</span>
        <span class="n">force_posdef_covmatrix</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">force_posdef_covmatrix</span><span class="p">,</span>
        <span class="n">force_posdef_samples</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">force_posdef_samples</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">res</span><span class="o">.</span><span class="n">add_plots</span><span class="p">()</span>
    <span class="n">res</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span> <span class="o">/</span> <span class="s1">&#39;results.json&#39;</span><span class="p">)</span>
    <span class="n">res</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span> <span class="o">/</span> <span class="s1">&#39;results.csv&#39;</span><span class="p">)</span>
    <span class="n">res</span><span class="o">.</span><span class="n">create_report</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="p">)</span></div>


<div class="viewcode-block" id="results_linearize"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.results_linearize">[docs]</a><span class="k">def</span> <span class="nf">results_linearize</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">pharmpy.tools.linearize.results</span> <span class="kn">import</span> <span class="n">psn_linearize_results</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
        <span class="n">error</span><span class="p">(</span><span class="ne">FileNotFoundError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="p">)))</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">psn_linearize_results</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="p">)</span>
    <span class="n">res</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span> <span class="o">/</span> <span class="s1">&#39;results.json&#39;</span><span class="p">)</span>
    <span class="n">res</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span> <span class="o">/</span> <span class="s1">&#39;results.csv&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="results_resmod"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.results_resmod">[docs]</a><span class="k">def</span> <span class="nf">results_resmod</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">pharmpy.tools.resmod.results</span> <span class="kn">import</span> <span class="n">psn_resmod_results</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
        <span class="n">error</span><span class="p">(</span><span class="ne">FileNotFoundError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="p">)))</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">psn_resmod_results</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="p">)</span>
    <span class="n">res</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span> <span class="o">/</span> <span class="s1">&#39;results.json&#39;</span><span class="p">)</span>
    <span class="n">res</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span> <span class="o">/</span> <span class="s1">&#39;results.csv&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="results_scm"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.results_scm">[docs]</a><span class="k">def</span> <span class="nf">results_scm</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">pharmpy.tools.scm.results</span> <span class="kn">import</span> <span class="n">psn_scm_results</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
        <span class="n">error</span><span class="p">(</span><span class="ne">FileNotFoundError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="p">)))</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">psn_scm_results</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="p">)</span>
    <span class="n">res</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span> <span class="o">/</span> <span class="s1">&#39;results.json&#39;</span><span class="p">)</span>
    <span class="n">res</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span> <span class="o">/</span> <span class="s1">&#39;results.csv&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="results_simeval"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.results_simeval">[docs]</a><span class="k">def</span> <span class="nf">results_simeval</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">pharmpy.tools.simeval.results</span> <span class="kn">import</span> <span class="n">psn_simeval_results</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
        <span class="n">error</span><span class="p">(</span><span class="ne">FileNotFoundError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="p">)))</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">psn_simeval_results</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="p">)</span>
    <span class="n">res</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span> <span class="o">/</span> <span class="s1">&#39;results.json&#39;</span><span class="p">)</span>
    <span class="n">res</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span> <span class="o">/</span> <span class="s1">&#39;results.csv&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="results_ofv"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.results_ofv">[docs]</a><span class="k">def</span> <span class="nf">results_ofv</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to extract final ofv from multiple results&quot;&quot;&quot;</span>
    <span class="n">ofvs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">args</span><span class="o">.</span><span class="n">models</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ofv</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">modelfit_results</span><span class="o">.</span><span class="n">ofv</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">ofv</span> <span class="o">=</span> <span class="s1">&#39;NA&#39;</span>
        <span class="n">ofvs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ofv</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ofvs</span><span class="p">))</span></div>


<div class="viewcode-block" id="results_print"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.results_print">[docs]</a><span class="k">def</span> <span class="nf">results_print</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to print any results&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">dir</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">dir</span> <span class="o">/</span> <span class="s1">&#39;results.json&#39;</span>
    <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">dir</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">dir</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">error</span><span class="p">(</span><span class="ne">FileNotFoundError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">dir</span><span class="p">)))</span>
    <span class="kn">from</span> <span class="nn">pharmpy.results</span> <span class="kn">import</span> <span class="n">read_results</span>

    <span class="n">res</span> <span class="o">=</span> <span class="n">read_results</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span></div>


<div class="viewcode-block" id="results_qa"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.results_qa">[docs]</a><span class="k">def</span> <span class="nf">results_qa</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">pharmpy.tools.qa.results</span> <span class="kn">import</span> <span class="n">psn_qa_results</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
        <span class="n">error</span><span class="p">(</span><span class="ne">FileNotFoundError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="p">)))</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">psn_qa_results</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="p">)</span>
    <span class="n">res</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span> <span class="o">/</span> <span class="s1">&#39;results.json&#39;</span><span class="p">)</span>
    <span class="n">res</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span> <span class="o">/</span> <span class="s1">&#39;results.csv&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="results_report"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.results_report">[docs]</a><span class="k">def</span> <span class="nf">results_report</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to generate reports&quot;&quot;&quot;</span>
    <span class="n">results_path</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span> <span class="o">/</span> <span class="s1">&#39;results.json&#39;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">results_path</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
        <span class="n">error</span><span class="p">(</span><span class="ne">FileNotFoundError</span><span class="p">(</span><span class="n">results_path</span><span class="p">))</span>
    <span class="kn">from</span> <span class="nn">pharmpy.results</span> <span class="kn">import</span> <span class="n">read_results</span>

    <span class="n">res</span> <span class="o">=</span> <span class="n">read_results</span><span class="p">(</span><span class="n">results_path</span><span class="p">)</span>
    <span class="n">res</span><span class="o">.</span><span class="n">create_report</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">psn_dir</span><span class="p">)</span></div>


<div class="viewcode-block" id="results_summary"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.results_summary">[docs]</a><span class="k">def</span> <span class="nf">results_summary</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Subcommand to output summary of modelfit&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">args</span><span class="o">.</span><span class="n">models</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">modelfit_results</span><span class="o">.</span><span class="n">parameter_summary</span><span class="p">())</span>
        <span class="nb">print</span><span class="p">()</span></div>


<div class="viewcode-block" id="check_input_path"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.check_input_path">[docs]</a><span class="k">def</span> <span class="nf">check_input_path</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Resolves path to input file and checks existence.</span>

<span class="sd">    Raises if not found or is dir, without tracebacks (see :func:`error_exit`).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="n">exc</span> <span class="o">=</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="s1">&#39;No such input file: </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
        <span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">path</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
        <span class="n">exc</span> <span class="o">=</span> <span class="ne">IsADirectoryError</span><span class="p">(</span><span class="s1">&#39;Is a directory (not an input file): </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
        <span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">path</span></div>


<span class="c1"># ------ Type functions --------------------</span>


<div class="viewcode-block" id="input_model"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.input_model">[docs]</a><span class="k">def</span> <span class="nf">input_model</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns :class:`~pharmpy.model.Model` from *path*.</span>

<span class="sd">    Raises if not found or is dir, without tracebacks (see :func:`error_exit`).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">check_input_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pharmpy</span><span class="o">.</span><span class="n">Model</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></div>


<div class="viewcode-block" id="input_model_or_dataset"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.input_model_or_dataset">[docs]</a><span class="k">def</span> <span class="nf">input_model_or_dataset</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns :class:`~pharmpy.model.Model` or :class:`~pharmpy.data.PharmDataFrame` from *path*&quot;&quot;&quot;</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">check_input_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">pharmpy</span><span class="o">.</span><span class="n">Model</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">pharmpy</span><span class="o">.</span><span class="n">plugins</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">PluginError</span><span class="p">:</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">pharmpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">obj</span></div>


<div class="viewcode-block" id="comma_list"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.comma_list">[docs]</a><span class="k">def</span> <span class="nf">comma_list</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="semicolon_list"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.semicolon_list">[docs]</a><span class="k">def</span> <span class="nf">semicolon_list</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>
    <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="random_seed"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.random_seed">[docs]</a><span class="k">def</span> <span class="nf">random_seed</span><span class="p">(</span><span class="n">seed</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">seed</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
        <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="c1"># Cannot reraise the ValueError as it would be caught by argparse</span>
        <span class="n">error</span><span class="p">(</span><span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentTypeError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)))</span>
    <span class="k">return</span> <span class="n">seed</span></div>


<span class="c1"># for commands taking multiple model files as input</span>
<span class="n">args_input</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">add_help</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">group_input</span> <span class="o">=</span> <span class="n">args_input</span><span class="o">.</span><span class="n">add_argument_group</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;inputs&#39;</span><span class="p">)</span>
<span class="n">group_input</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
    <span class="s1">&#39;models&#39;</span><span class="p">,</span> <span class="n">metavar</span><span class="o">=</span><span class="s1">&#39;FILE&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">input_model</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;input model files&#39;</span>
<span class="p">)</span>

<span class="c1"># for commands taking one model file as input</span>
<span class="n">args_model_input</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">add_help</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">group_model_input</span> <span class="o">=</span> <span class="n">args_model_input</span><span class="o">.</span><span class="n">add_argument_group</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;model&#39;</span><span class="p">)</span>
<span class="n">group_model_input</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;model&#39;</span><span class="p">,</span> <span class="n">metavar</span><span class="o">=</span><span class="s1">&#39;FILE&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">input_model</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;input model file&#39;</span><span class="p">)</span>

<span class="c1"># for commands with model file or dataset input</span>
<span class="n">args_model_or_data_input</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">add_help</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">group_model_or_data_input</span> <span class="o">=</span> <span class="n">args_model_or_data_input</span><span class="o">.</span><span class="n">add_argument_group</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;data_input&#39;</span><span class="p">)</span>
<span class="n">group_model_or_data_input</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
    <span class="s1">&#39;model_or_dataset&#39;</span><span class="p">,</span>
    <span class="n">metavar</span><span class="o">=</span><span class="s1">&#39;FILE&#39;</span><span class="p">,</span>
    <span class="nb">type</span><span class="o">=</span><span class="n">input_model_or_dataset</span><span class="p">,</span>
    <span class="n">help</span><span class="o">=</span><span class="s1">&#39;input model or dataset file&#39;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># for commands involving randomization</span>
<span class="n">args_random</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">add_help</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">group_random</span> <span class="o">=</span> <span class="n">args_random</span><span class="o">.</span><span class="n">add_argument_group</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;random seed&#39;</span><span class="p">)</span>
<span class="n">group_random</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
    <span class="s1">&#39;--seed&#39;</span><span class="p">,</span>
    <span class="nb">type</span><span class="o">=</span><span class="n">random_seed</span><span class="p">,</span>
    <span class="n">metavar</span><span class="o">=</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">,</span>
    <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Provide a random seed. The seed must be an integer &#39;</span> <span class="s1">&#39;between 0 and 2^32 - 1&#39;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># for commands with file output</span>
<span class="n">args_output</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">add_help</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">group_output</span> <span class="o">=</span> <span class="n">args_output</span><span class="o">.</span><span class="n">add_argument_group</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;outputs&#39;</span><span class="p">)</span>
<span class="n">group_output</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
    <span class="s1">&#39;-f&#39;</span><span class="p">,</span> <span class="s1">&#39;--force&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;remove existing destination files (all)&#39;</span>
<span class="p">)</span>
<span class="n">group_output</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
    <span class="s1">&#39;-o&#39;</span><span class="p">,</span> <span class="s1">&#39;--output_file&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;output_file&#39;</span><span class="p">,</span> <span class="n">metavar</span><span class="o">=</span><span class="s1">&#39;file&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s1">&#39;output file&#39;</span>
<span class="p">)</span>

<span class="n">parser_definition</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s1">&#39;run&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;subs&#39;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s1">&#39;execute&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Execute one or more model&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">run_execute</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_input</span><span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;bootstrap&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Bootstrap&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">run_bootstrap</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--samples&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Number of bootstrap datasets&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;modelsearch&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Search for best model&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">run_modelsearch</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;algorithm&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Name of algorithm to use&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;funcs&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">semicolon_list</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;List of function calls from modeling&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--rankfunc&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Name of function to use for ranking &#39;</span>
                                <span class="s1">&#39;candidates (default ofv).&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="s1">&#39;ofv&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
            <span class="p">],</span>
            <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Run a method&#39;</span><span class="p">,</span>
            <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Pharmpy commands for running tools&#39;</span><span class="p">,</span>
            <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;METHOD&#39;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;subs&#39;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s1">&#39;write&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Write dataset&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_or_data_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">data_write</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Write a dataset from model or csv file as the model sees &#39;</span>
                        <span class="s1">&#39;it. For NM-TRAN models this means to filter all IGNORE and &#39;</span>
                        <span class="s1">&#39;ACCEPT statements in $DATA and to convert the dataset to &#39;</span>
                        <span class="s1">&#39;csv format.&#39;</span><span class="p">,</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;print&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Print dataset to stdout&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_or_data_input</span><span class="p">],</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">data_print</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Print whole dataset or selected columns from model or csv &#39;</span>
                        <span class="s1">&#39;file via a pager to stdout. For NM-TRAN models the dataset will &#39;</span>
                        <span class="s1">&#39;be filtered first.&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--columns&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;COLUMNS&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">comma_list</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Select specific columns (default is all)&#39;</span><span class="p">,</span>
                            <span class="p">}</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;filter&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Filter rows of dataset&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Filter rows of dataset via expressions. &#39;</span>
                        <span class="s1">&#39;All rows matching all expressions will be kept.abs &#39;</span>
                        <span class="s1">&#39;A new model with the filtered dataset connected is created.&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_or_data_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">data_filter</span><span class="p">,</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;expressions&#39;</span><span class="p">,</span> <span class="s1">&#39;nargs&#39;</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">REMAINDER</span><span class="p">}],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;append&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Append column to dataset&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Append a column to dataset given an assignment expression.&#39;</span>
                        <span class="s1">&#39;The expression can contain already present columns of the dataset.&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_or_data_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">data_append</span><span class="p">,</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;expression&#39;</span><span class="p">}],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;resample&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Resample dataset&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Bootstrap resample datasets&#39;</span>
                        <span class="s1">&#39;Multiple new models and datasets will be created&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_or_data_input</span><span class="p">,</span> <span class="n">args_random</span><span class="p">],</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">data_resample</span><span class="p">,</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--group&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;COLUMN&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="s1">&#39;ID&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Column to use for grouping (default is ID)&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--resamples&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;NUMBER&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Number of resampled datasets (default 1)&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--stratify&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;COLUMN&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Column to use for stratification&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--replace&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Sample with replacement (default is without)&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--sample_size&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;NUMBER&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Number of groups to sample for each resample&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;anonymize&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Anonymize dataset by renumbering a specific data column&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Anonymize dataset by renumbering a specific data column&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">data_anonymize</span><span class="p">,</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;dataset&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;FILE&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;A csv file dataset&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--group&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;COLUMN&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="s1">&#39;ID&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;column to anonymize (default ID)&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
            <span class="p">],</span>
            <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Data manipulations&#39;</span><span class="p">,</span>
            <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Pharmpy data commands&#39;</span><span class="p">,</span>
            <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;ACTION&#39;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;info&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Show Pharmpy information&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Pharmpy information&#39;</span><span class="p">,</span> <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">info</span><span class="p">}},</span>
    <span class="p">{</span>
        <span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;subs&#39;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s1">&#39;print&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Format and print model overview&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Print an overview of a model.&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">model_print</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_input</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--explicit-odes&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Print the ODE system explicitly instead of as a &#39;</span>
                                <span class="s1">&#39;compartmental graph&#39;</span><span class="p">,</span>
                            <span class="p">}</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;sample&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Sampling of parameter inits using uncertainty given by covariance &#39;</span>
                        <span class="s1">&#39;matrix&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Sample parameter initial estimates using uncertainty given&#39;</span>
                        <span class="s1">&#39;by covariance matrix.&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">model_sample</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">,</span> <span class="n">args_random</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--samples&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;NUMBER&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Number of sampled models&#39;</span><span class="p">,</span>
                            <span class="p">}</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;add_cov_effect&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Adds covariate effect&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Add covariate effect to a model parameter&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">add_covariate_effect</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;param&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Individual parameter&#39;</span><span class="p">},</span>
                            <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;covariate&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Covariate&#39;</span><span class="p">},</span>
                            <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;effect&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Type of covariate effect&#39;</span><span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--operation&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Whether effect should be added or multiplied&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;explicit_odes&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Make ODEs explicit&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Convert from compartmental or implicit description of &#39;</span>
                        <span class="s1">&#39;ODE-system to explicit. I.e. create a $DES&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">model_explicit_odes</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;absorption_rate&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Set absorption rate for a PK model&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Change absorption rate of a PK model to either bolus, 0th &#39;</span>
                        <span class="s1">&#39;order, 1th order or sequential 0-order 1-order.&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">model_absorption_rate</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;rate&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;choices&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;bolus&#39;</span><span class="p">,</span> <span class="s1">&#39;ZO&#39;</span><span class="p">,</span> <span class="s1">&#39;FO&#39;</span><span class="p">,</span> <span class="s1">&#39;seq-ZO-FO&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Absorption rate&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;elimination_rate&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Set elimination rate for a PK model&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Change elimination rate of a PK model to either 0th &#39;</span>
                        <span class="s1">&#39;order, 1th order, Michaelis-Menten or combined 1-order-Michaelis-Menten.&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">model_elimination_rate</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;rate&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;choices&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ZO&#39;</span><span class="p">,</span> <span class="s1">&#39;FO&#39;</span><span class="p">,</span> <span class="s1">&#39;MM&#39;</span><span class="p">,</span> <span class="s1">&#39;comb-FO-MM&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Eliminiation rate&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;transit_compartments&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Set the number of transit compartments for a PK model&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Set the number of transit compartments of a PK model&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">model_transit_compartments</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Number of compartments&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;peripheral_compartments&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Set the number of peripheral compartments for a PK model&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Set the number of peripheral compartments of a PK model&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">model_peripheral_compartments</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Number of compartments&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Set error model&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Set the error model to either additive, proportional or &#39;</span>
                        <span class="s1">&#39;combined&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">model_error</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;error_type&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;choices&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="s1">&#39;additive&#39;</span><span class="p">,</span> <span class="s1">&#39;propotional&#39;</span><span class="p">,</span> <span class="s1">&#39;combined&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Type of error model&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;boxcox&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Applies boxcox transformation&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Apply boxcox transformation on selected/all etas&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">boxcox</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--etas&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;List of etas, mark group of etas in single quote &#39;</span>
                                <span class="s1">&#39;separated by spaces&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;tdist&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Applies t-distribution transformation&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Apply t-distribution transformation on selected/all etas&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">tdist</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--etas&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;List of etas, mark group of etas in single quote &#39;</span>
                                <span class="s1">&#39;separated by spaces&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;john_draper&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Applies John Draper transformation&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Apply John Draper transformation on selected/all etas&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">john_draper</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--etas&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;List of etas, mark group of etas in single quote &#39;</span>
                                <span class="s1">&#39;separated by spaces&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;add_iiv&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Adds IIVs&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Add IIVs to a model parameter&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">add_iiv</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;param&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Individual parameter&#39;</span><span class="p">},</span>
                            <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;expression&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Expression for added eta&#39;</span><span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--operation&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Whether effect should be added or multiplied&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--eta_name&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Optional custom name of new eta&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;add_iov&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Adds IOVs&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Add IOVs to a random variable or a specified model &#39;</span>
                        <span class="s1">&#39;parameter&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">add_iov</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;occ&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Name of occasion column&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--etas&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;List of etas or parameters, mark group of etas in single &#39;</span>
                                <span class="s1">&#39;quote separated by spaces&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--eta_names&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Optional custom names of new etas. Must be equal to the &#39;</span>
                                <span class="s1">&#39;number of input etas times the number of categories for &#39;</span>
                                <span class="s1">&#39;occasion.&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;create_rv_block&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Creates block structures&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Creates full or partial block structures of etas (IIV)&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">create_rv_block</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--etas&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;List of etas, mark group of etas in single quote &#39;</span>
                                <span class="s1">&#39;separated by spaces. For partial block structures provide list, &#39;</span>
                                <span class="s1">&#39;for full no arguments are needed&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;iiv_on_ruv&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Applies IIV to RUVs&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Applies IIV to RUVs by multiplying epsilons with &#39;</span>
                        <span class="s1">&#39;exponential etas&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">iiv_on_ruv</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--eps&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;List of epsilons, mark group of epsilons in single quote &#39;</span>
                                <span class="s1">&#39;separated by spaces. To apply to all epsilons, omit this &#39;</span>
                                <span class="s1">&#39;argument.&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--same_eta&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;whether all RUVs from input should use the same new ETA &#39;</span>
                                <span class="s1">&#39;or if one ETA should be created for each RUV.&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--eta_names&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Optional custom names of new etas. Must be equal to the &#39;</span>
                                <span class="s1">&#39;number of input etas times the number of categories for &#39;</span>
                                <span class="s1">&#39;occasion.&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;remove_iiv&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Removes IIVs&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Removes all IIV omegas given a list with eta names &#39;</span>
                        <span class="s1">&#39;and/or parameter names&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">remove_iiv</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--to_remove&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;List of etas and/or parameter name to remove. To remove &#39;</span>
                                <span class="s1">&#39;all etas, omit this argument.&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;remove_iov&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Removes IOVs&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Removes all IOV omegas&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">remove_iov</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;power_on_ruv&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Applies power effect to RUVs.&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Applies a power effect to provided epsilons.&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">power_on_ruv</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--eps&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;List of epsilons, mark group of epsilons in single quote &#39;</span>
                                <span class="s1">&#39;separated by spaces. To apply to all epsilons, omit this &#39;</span>
                                <span class="s1">&#39;argument.&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;update_inits&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Update inits using modelfit results.&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Update inits using modelfit results, can be forced.&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">update_inits</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_model_input</span><span class="p">,</span> <span class="n">args_output</span><span class="p">],</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--force_update&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Force update.&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
            <span class="p">],</span>
            <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Model manipulations&#39;</span><span class="p">,</span>
            <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Pharmpy model commands&#39;</span><span class="p">,</span>
            <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;ACTION&#39;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s1">&#39;results&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;subs&#39;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s1">&#39;bootstrap&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Generate bootstrap results&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Generate results from a PsN bootstrap run&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">results_bootstrap</span><span class="p">,</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;psn_dir&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;PsN directory&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Path to PsN bootstrap run directory&#39;</span><span class="p">,</span>
                            <span class="p">}</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;cdd&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Generate cdd results&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Generate results from a PsN cdd run&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">results_cdd</span><span class="p">,</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;psn_dir&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;PsN directory&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Path to PsN cdd run directory&#39;</span><span class="p">,</span>
                            <span class="p">}</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;frem&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Generate FREM results&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Generate results from a PsN frem run&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">results_frem</span><span class="p">,</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;psn_dir&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;PsN directory&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Path to PsN frem run directory&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--method&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;choices&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;cov_sampling&#39;</span><span class="p">,</span> <span class="s1">&#39;bipp&#39;</span><span class="p">],</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="s1">&#39;cov_sampling&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Method to use for uncertainty of covariate effects&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--force_posdef_covmatrix&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Should covariance matrix be forced to become positive &#39;</span>
                                <span class="s1">&#39;definite&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;--force_posdef_samples&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                                <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Number of sampling tries to do before starting to force &#39;</span>
                                <span class="s1">&#39;posdef&#39;</span><span class="p">,</span>
                            <span class="p">},</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;linearize&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Generate linearize results&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Generate results from a PsN linearize run&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">results_linearize</span><span class="p">,</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;psn_dir&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;PsN directory&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Path to PsN linearize run directory&#39;</span><span class="p">,</span>
                            <span class="p">}</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;ofv&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Extract OFVs from model runs&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Extract OFVs from one or more model runs&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_input</span><span class="p">],</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">results_ofv</span><span class="p">,</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;print&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Print results&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Print results from PsN run to stdout&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">results_print</span><span class="p">,</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;dir&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;file or directory&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Path to directory containing results.json &#39;</span>
                                <span class="s1">&#39;or directly to json results file&#39;</span><span class="p">,</span>
                            <span class="p">}</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;qa&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Generate qa results&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Generate results from a PsN qa run&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">results_qa</span><span class="p">,</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;psn_dir&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;PsN directory&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Path to PsN qa run directory&#39;</span><span class="p">,</span>
                            <span class="p">}</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;report&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Generate results report&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Generate results report for PsN run (currently only frem)&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">results_report</span><span class="p">,</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;psn_dir&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;PsN directory&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Path to PsN run directory&#39;</span><span class="p">,</span>
                            <span class="p">}</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;resmod&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Generate resmod results&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Generate results from a PsN resmod run&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">results_resmod</span><span class="p">,</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;psn_dir&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;PsN directory&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Path to PsN resmod run directory&#39;</span><span class="p">,</span>
                            <span class="p">}</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;scm&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Generate scm results&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Generate results from a PsN scm run&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">results_scm</span><span class="p">,</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;psn_dir&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;PsN directory&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Path to PsN scm run directory&#39;</span><span class="p">,</span>
                            <span class="p">}</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;simeval&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Generate simeval results&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Generate results from a PsN simeval run&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">results_simeval</span><span class="p">,</span>
                        <span class="s1">&#39;args&#39;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;psn_dir&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;PsN directory&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
                                <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Path to PsN simeval run directory&#39;</span><span class="p">,</span>
                            <span class="p">}</span>
                        <span class="p">],</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s1">&#39;summary&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Modelfit summary&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Print a summary of a model estimates to stdout.&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;parents&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">args_input</span><span class="p">],</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">results_summary</span><span class="p">,</span>
                    <span class="p">}</span>
                <span class="p">},</span>
            <span class="p">],</span>
            <span class="s1">&#39;help&#39;</span><span class="p">:</span> <span class="s1">&#39;Result extraction and generation&#39;</span><span class="p">,</span>
            <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Pharmpy result generation commands&#39;</span><span class="p">,</span>
            <span class="s1">&#39;metavar&#39;</span><span class="p">:</span> <span class="s1">&#39;ACTION&#39;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">},</span>
<span class="p">]</span>


<div class="viewcode-block" id="generate_parsers"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.generate_parsers">[docs]</a><span class="k">def</span> <span class="nf">generate_parsers</span><span class="p">(</span><span class="n">parsers</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">command</span> <span class="ow">in</span> <span class="n">parser_definition</span><span class="p">:</span>
        <span class="p">((</span><span class="n">cmd_name</span><span class="p">,</span> <span class="n">cmd_dict</span><span class="p">),)</span> <span class="o">=</span> <span class="n">command</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="n">cmd_parser</span> <span class="o">=</span> <span class="n">parsers</span><span class="o">.</span><span class="n">add_parser</span><span class="p">(</span>
            <span class="n">cmd_name</span><span class="p">,</span> <span class="n">allow_abbrev</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">cmd_dict</span><span class="p">[</span><span class="s1">&#39;help&#39;</span><span class="p">],</span> <span class="n">formatter_class</span><span class="o">=</span><span class="n">formatter</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;subs&#39;</span> <span class="ow">in</span> <span class="n">cmd_dict</span><span class="p">:</span>
            <span class="n">subs</span> <span class="o">=</span> <span class="n">cmd_parser</span><span class="o">.</span><span class="n">add_subparsers</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">cmd_dict</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span> <span class="n">metavar</span><span class="o">=</span><span class="n">cmd_dict</span><span class="p">[</span><span class="s1">&#39;metavar&#39;</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">sub_command</span> <span class="ow">in</span> <span class="n">cmd_dict</span><span class="p">[</span><span class="s1">&#39;subs&#39;</span><span class="p">]:</span>
                <span class="p">((</span><span class="n">sub_name</span><span class="p">,</span> <span class="n">sub_dict</span><span class="p">),)</span> <span class="o">=</span> <span class="n">sub_command</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="n">args</span> <span class="o">=</span> <span class="n">sub_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;args&#39;</span><span class="p">,</span> <span class="p">[])</span>
                <span class="n">func</span> <span class="o">=</span> <span class="n">sub_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;func&#39;</span><span class="p">)</span>

                <span class="n">sub_parser</span> <span class="o">=</span> <span class="n">subs</span><span class="o">.</span><span class="n">add_parser</span><span class="p">(</span><span class="n">sub_name</span><span class="p">,</span> <span class="o">**</span><span class="n">sub_dict</span><span class="p">,</span> <span class="n">formatter_class</span><span class="o">=</span><span class="n">formatter</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
                    <span class="n">name</span> <span class="o">=</span> <span class="n">arg</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span>
                    <span class="n">sub_parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">arg</span><span class="p">)</span>
                <span class="n">sub_parser</span><span class="o">.</span><span class="n">set_defaults</span><span class="p">(</span><span class="n">func</span><span class="o">=</span><span class="n">func</span><span class="p">)</span></div>


<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span>
    <span class="n">prog</span><span class="o">=</span><span class="s1">&#39;pharmpy&#39;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="n">dedent</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Welcome to the command line interface of Pharmpy!</span>

<span class="sd">    Functionality is split into various subcommands</span>
<span class="sd">        - try --help after a COMMAND</span>
<span class="sd">        - all keyword arguments can be abbreviated if unique</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span>
    <span class="n">epilog</span><span class="o">=</span><span class="n">dedent</span><span class="p">(</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Examples:</span>
<span class="sd">            # Create 100 bootstrap datasets</span>
<span class="sd">            pharmpy data resample pheno_real.mod --resamples=100 --replace</span>

<span class="sd">            # prettyprint model</span>
<span class="sd">            pharmpy model print pheno_real.mod</span>

<span class="sd">            # version/install information</span>
<span class="sd">            pharmpy info</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span>
    <span class="n">formatter_class</span><span class="o">=</span><span class="n">formatter</span><span class="p">,</span>
    <span class="n">allow_abbrev</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--version&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;version&#39;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;0.25.1&#39;</span><span class="p">)</span>

<span class="c1"># subcommand parsers</span>
<span class="n">subparsers</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_subparsers</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Pharmpy commands&#39;</span><span class="p">,</span> <span class="n">metavar</span><span class="o">=</span><span class="s1">&#39;COMMAND&#39;</span><span class="p">)</span>
<span class="n">generate_parsers</span><span class="p">(</span><span class="n">subparsers</span><span class="p">)</span>


<span class="c1"># -- entry point of CLI (pharmpy) ---------------------------------------------------------</span>


<div class="viewcode-block" id="main"><a class="viewcode-back" href="../../reference/pharmpy.cli.html#pharmpy.cli.main">[docs]</a><span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Entry point of ``pharmpy`` CLI util and ``python3 -m pharmpy`` (via ``__main__.py``).&quot;&quot;&quot;</span>
    <span class="c1"># parse</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
    <span class="c1"># dispatch subcommand</span>
    <span class="k">if</span> <span class="s1">&#39;func&#39;</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
        <span class="n">args</span><span class="o">.</span><span class="n">func</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">print_usage</span><span class="p">()</span></div>
</pre></div>

              </div>
              
              
              <div class='prev-next-bottom'>
                

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../../_static/js/index.1e043a052b0af929e4d8.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2018-2021; the Pharmpy development team.<br/>
        Last updated on Jul 08, 2021.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.0.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>