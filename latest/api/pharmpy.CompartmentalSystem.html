
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>CompartmentalSystem &#8212; Pharmpy 0.73.0 documentation</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.0-rc.0/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="DataInfo" href="pharmpy.DataInfo.html" />
    <link rel="prev" title="Compartment" href="pharmpy.Compartment.html" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="None">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    <img src="../_static/Pharmpy_logo.svg" class="logo__image only-light" alt="Logo image">
    <img src="../_static/Pharmpy_logo.svg" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../contributors.html">
  About us
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../getting_started.html">
  Getting started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../user_guide.html">
  User guide
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../api.html">
  API Reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../changelog.html">
  Changelog
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../contribute.html">
  Contribute
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../citation.html">
  References and citation
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../license.html">
  License
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
<h3><a href="../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../contributors.html">About us</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide.html">User guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../api_pharmpy.html">pharmpy Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_modeling.html">pharmpy.modeling Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_tools.html">pharmpy.tools Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_workflows.html">pharmpy.workflows Package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citation.html">References and citation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
      

<nav id="bd-toc-nav">
    
</nav>
    </div>
    
    <div class="toc-item">
      
    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                
  <section id="compartmentalsystem">
<h1>CompartmentalSystem<a class="headerlink" href="#compartmentalsystem" title="Permalink to this headline">#</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pharmpy.</span></span><span class="sig-name descname"><span class="pre">CompartmentalSystem</span></span><a class="reference internal" href="../_modules/pharmpy/statements.html#CompartmentalSystem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.CompartmentalSystem" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="pharmpy.ODESystem.html#pharmpy.ODESystem" title="pharmpy.statements.ODESystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">pharmpy.statements.ODESystem</span></code></a></p>
<p>System of ODEs descibed as a compartmental system</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy</span> <span class="kn">import</span> <span class="n">Bolus</span><span class="p">,</span> <span class="n">CompartmentalSystem</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cs</span> <span class="o">=</span> <span class="n">CompartmentalSystem</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dose</span> <span class="o">=</span> <span class="n">Bolus</span><span class="p">(</span><span class="s2">&quot;AMT&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">central</span> <span class="o">=</span> <span class="n">cs</span><span class="o">.</span><span class="n">add_compartment</span><span class="p">(</span><span class="s2">&quot;CENTRAL&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">central</span><span class="o">.</span><span class="n">dose</span> <span class="o">=</span> <span class="n">dose</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">peripheral</span> <span class="o">=</span> <span class="n">cs</span><span class="o">.</span><span class="n">add_compartment</span><span class="p">(</span><span class="s2">&quot;PERIPHERAL&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output</span> <span class="o">=</span> <span class="n">cs</span><span class="o">.</span><span class="n">add_compartment</span><span class="p">(</span><span class="s2">&quot;OUTPUT&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cs</span><span class="o">.</span><span class="n">add_flow</span><span class="p">(</span><span class="n">central</span><span class="p">,</span> <span class="n">peripheral</span><span class="p">,</span> <span class="s2">&quot;K12&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cs</span><span class="o">.</span><span class="n">add_flow</span><span class="p">(</span><span class="n">peripheral</span><span class="p">,</span> <span class="n">central</span><span class="p">,</span> <span class="s2">&quot;K21&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cs</span><span class="o">.</span><span class="n">add_flow</span><span class="p">(</span><span class="n">central</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="s2">&quot;CL / V&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cs</span>        
<span class="go">Bolus(AMT)</span>
<span class="go">                 ┌──────────┐</span>
<span class="go">                 │PERIPHERAL│</span>
<span class="go">                 └──────────┘</span>
<span class="go">                  ↑        │</span>
<span class="go">                 K12      K21</span>
<span class="go">                  │        ↓</span>
<span class="go">┌───────┐      ┌──────────┐      ┌──────────┐       ┌──────┐</span>
<span class="go">│CENTRAL│──K12→│PERIPHERAL│──K21→│ CENTRAL  │──CL/V→│OUTPUT│</span>
<span class="go">└───────┘      └──────────┘      └──────────┘       └──────┘</span>
</pre></div>
</div>
<p class="rubric">Attributes Summary</p>
<table class="autosummary longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.amounts" title="pharmpy.CompartmentalSystem.amounts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">amounts</span></code></a></p></td>
<td><p>Column vector of amounts for all compartments</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.central_compartment" title="pharmpy.CompartmentalSystem.central_compartment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">central_compartment</span></code></a></p></td>
<td><p>The central compartment</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.compartment_names" title="pharmpy.CompartmentalSystem.compartment_names"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compartment_names</span></code></a></p></td>
<td><p>Names of all compartments</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.compartmental_matrix" title="pharmpy.CompartmentalSystem.compartmental_matrix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compartmental_matrix</span></code></a></p></td>
<td><p>Compartmental matrix of the compartmental system</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.dosing_compartment" title="pharmpy.CompartmentalSystem.dosing_compartment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dosing_compartment</span></code></a></p></td>
<td><p>The dosing compartment</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.free_symbols" title="pharmpy.CompartmentalSystem.free_symbols"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_symbols</span></code></a></p></td>
<td><p>Get set of all free symbols in the compartmental system</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.output_compartment" title="pharmpy.CompartmentalSystem.output_compartment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">output_compartment</span></code></a></p></td>
<td><p>Get the output compartment</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.peripheral_compartments" title="pharmpy.CompartmentalSystem.peripheral_compartments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">peripheral_compartments</span></code></a></p></td>
<td><p>Find perihperal compartments</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.rhs_symbols" title="pharmpy.CompartmentalSystem.rhs_symbols"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rhs_symbols</span></code></a></p></td>
<td><p>Get set of all free symbols in the right hand side expressions</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.zero_order_inputs" title="pharmpy.CompartmentalSystem.zero_order_inputs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">zero_order_inputs</span></code></a></p></td>
<td><p>Vector of all zero order inputs to each compartment</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Summary</p>
<table class="autosummary longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.add_compartment" title="pharmpy.CompartmentalSystem.add_compartment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_compartment</span></code></a>(name)</p></td>
<td><p>Create and add compartment to system</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.add_flow" title="pharmpy.CompartmentalSystem.add_flow"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_flow</span></code></a>(source, destination, rate)</p></td>
<td><p>Add flow between two compartments</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.atoms" title="pharmpy.CompartmentalSystem.atoms"><code class="xref py py-obj docutils literal notranslate"><span class="pre">atoms</span></code></a>(cls)</p></td>
<td><p>Get set of all symbolic atoms of some kind</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.copy" title="pharmpy.CompartmentalSystem.copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code></a>()</p></td>
<td><p>Create a copy of the CompartmentalSystem object</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.find_compartment" title="pharmpy.CompartmentalSystem.find_compartment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_compartment</span></code></a>(name)</p></td>
<td><p>Find a compartment using its name</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.find_depot" title="pharmpy.CompartmentalSystem.find_depot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_depot</span></code></a>(statements)</p></td>
<td><p>Find the depot compartment</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.find_transit_compartments" title="pharmpy.CompartmentalSystem.find_transit_compartments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_transit_compartments</span></code></a>(statements)</p></td>
<td><p>Find all transit compartments</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.get_compartment_inflows" title="pharmpy.CompartmentalSystem.get_compartment_inflows"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_compartment_inflows</span></code></a>(compartment)</p></td>
<td><p>Get list of all flows going in to a compartment</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.get_compartment_outflows" title="pharmpy.CompartmentalSystem.get_compartment_outflows"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_compartment_outflows</span></code></a>(compartment)</p></td>
<td><p>Get list of all flows going out from a compartment</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.get_flow" title="pharmpy.CompartmentalSystem.get_flow"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_flow</span></code></a>(source, destination)</p></td>
<td><p>Get the rate of flow between two compartments</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.get_n_connected" title="pharmpy.CompartmentalSystem.get_n_connected"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_n_connected</span></code></a>(comp)</p></td>
<td><p>Get the number of compartments connected to a compartment</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.remove_compartment" title="pharmpy.CompartmentalSystem.remove_compartment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_compartment</span></code></a>(compartment)</p></td>
<td><p>Remove compartment from system</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.remove_flow" title="pharmpy.CompartmentalSystem.remove_flow"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_flow</span></code></a>(source, destination)</p></td>
<td><p>Remove flow between two compartments</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.subs" title="pharmpy.CompartmentalSystem.subs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">subs</span></code></a>(substitutions)</p></td>
<td><p>Substitute expressions or symbols in ODE system</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.to_compartmental_system" title="pharmpy.CompartmentalSystem.to_compartmental_system"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_compartmental_system</span></code></a>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.CompartmentalSystem.to_explicit_system" title="pharmpy.CompartmentalSystem.to_explicit_system"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_explicit_system</span></code></a>([skip_output])</p></td>
<td><p>Get the compartmental system as an explicit ODE system</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Documentation</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.amounts">
<span class="sig-name descname"><span class="pre">amounts</span></span><a class="headerlink" href="#pharmpy.CompartmentalSystem.amounts" title="Permalink to this definition">#</a></dt>
<dd><p>Column vector of amounts for all compartments</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">load_example_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sympy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">load_example_model</span><span class="p">(</span><span class="s2">&quot;pheno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sympy</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">amounts</span><span class="p">)</span>
<span class="go">⎡A_CENTRAL⎤</span>
<span class="go">⎢         ⎥</span>
<span class="go">⎣A_OUTPUT ⎦</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.central_compartment">
<span class="sig-name descname"><span class="pre">central_compartment</span></span><a class="headerlink" href="#pharmpy.CompartmentalSystem.central_compartment" title="Permalink to this definition">#</a></dt>
<dd><p>The central compartment</p>
<p>The central compartment is defined to be the compartment that has an outward flow
to the output compartment. Only one central compartment is supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>Compartment</em> – Central compartment</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">load_example_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">load_example_model</span><span class="p">(</span><span class="s2">&quot;pheno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">central_compartment</span>
<span class="go">Compartment(CENTRAL, dose=Bolus(AMT))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.compartment_names">
<span class="sig-name descname"><span class="pre">compartment_names</span></span><a class="headerlink" href="#pharmpy.CompartmentalSystem.compartment_names" title="Permalink to this definition">#</a></dt>
<dd><p>Names of all compartments</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">load_example_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">load_example_model</span><span class="p">(</span><span class="s2">&quot;pheno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">compartment_names</span>
<span class="go">[&#39;CENTRAL&#39;, &#39;OUTPUT&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.compartmental_matrix">
<span class="sig-name descname"><span class="pre">compartmental_matrix</span></span><a class="headerlink" href="#pharmpy.CompartmentalSystem.compartmental_matrix" title="Permalink to this definition">#</a></dt>
<dd><p>Compartmental matrix of the compartmental system</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">load_example_model</span><span class="p">,</span> <span class="n">set_first_order_absorption</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sympy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">load_example_model</span><span class="p">(</span><span class="s2">&quot;pheno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sympy</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">compartmental_matrix</span><span class="p">)</span>
<span class="go">⎡-CL    ⎤</span>
<span class="go">⎢────  0⎥</span>
<span class="go">⎢ V     ⎥</span>
<span class="go">⎢       ⎥</span>
<span class="go">⎢ CL    ⎥</span>
<span class="go">⎢ ──   0⎥</span>
<span class="go">⎣ V     ⎦</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.dosing_compartment">
<span class="sig-name descname"><span class="pre">dosing_compartment</span></span><a class="headerlink" href="#pharmpy.CompartmentalSystem.dosing_compartment" title="Permalink to this definition">#</a></dt>
<dd><p>The dosing compartment</p>
<p>A dosing compartment is a compartment that receives an input dose. Only one dose
compartment is supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>Compartment</em> – Dosing compartment</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">load_example_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">load_example_model</span><span class="p">(</span><span class="s2">&quot;pheno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">dosing_compartment</span>
<span class="go">Compartment(CENTRAL, dose=Bolus(AMT))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.free_symbols">
<span class="sig-name descname"><span class="pre">free_symbols</span></span><a class="headerlink" href="#pharmpy.CompartmentalSystem.free_symbols" title="Permalink to this definition">#</a></dt>
<dd><p>Get set of all free symbols in the compartmental system</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>set</em> – Set of symbols</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">load_example_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">load_example_model</span><span class="p">(</span><span class="s2">&quot;pheno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">free_symbols</span>  
<span class="go">{AMT, CL, V, t}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.output_compartment">
<span class="sig-name descname"><span class="pre">output_compartment</span></span><a class="headerlink" href="#pharmpy.CompartmentalSystem.output_compartment" title="Permalink to this definition">#</a></dt>
<dd><p>Get the output compartment</p>
<p>An output compartment is defined to be a compartment that does not have any outward
flow. A model has to have one and only one output compartment.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>Compartment</em> – Output compartment of compartmental system</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">load_example_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">load_example_model</span><span class="p">(</span><span class="s2">&quot;pheno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">output_compartment</span>
<span class="go">Compartment(OUTPUT)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.peripheral_compartments">
<span class="sig-name descname"><span class="pre">peripheral_compartments</span></span><a class="headerlink" href="#pharmpy.CompartmentalSystem.peripheral_compartments" title="Permalink to this definition">#</a></dt>
<dd><p>Find perihperal compartments</p>
<p>A peripheral compartment is defined as having one flow to the central compartment and
one flow from the central compartment.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>list of compartments</em> – Peripheral compartments</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">load_example_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">load_example_model</span><span class="p">(</span><span class="s2">&quot;pheno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">peripheral_compartments</span>
<span class="go">[]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.rhs_symbols">
<span class="sig-name descname"><span class="pre">rhs_symbols</span></span><a class="headerlink" href="#pharmpy.CompartmentalSystem.rhs_symbols" title="Permalink to this definition">#</a></dt>
<dd><p>Get set of all free symbols in the right hand side expressions</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>set</em> – Set of symbols</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">load_example_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">load_example_model</span><span class="p">(</span><span class="s2">&quot;pheno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">rhs_symbols</span>   
<span class="go">{AMT, CL, V, t}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.zero_order_inputs">
<span class="sig-name descname"><span class="pre">zero_order_inputs</span></span><a class="headerlink" href="#pharmpy.CompartmentalSystem.zero_order_inputs" title="Permalink to this definition">#</a></dt>
<dd><p>Vector of all zero order inputs to each compartment</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">load_example_model</span><span class="p">,</span> <span class="n">set_zero_order_absorption</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sympy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">load_example_model</span><span class="p">(</span><span class="s2">&quot;pheno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sympy</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">zero_order_inputs</span><span class="p">)</span>
<span class="go">⎡0⎤</span>
<span class="go">⎢ ⎥</span>
<span class="go">⎣0⎦</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set_zero_order_absorption</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>    
<span class="go">&lt;...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sympy</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">zero_order_inputs</span><span class="p">)</span>
<span class="go">⎡⎧ AMT                ⎤</span>
<span class="go">⎢⎪─────  for t &lt; 2⋅MAT⎥</span>
<span class="go">⎢⎨2⋅MAT               ⎥</span>
<span class="go">⎢⎪                    ⎥</span>
<span class="go">⎢⎩  0      otherwise  ⎥</span>
<span class="go">⎢                     ⎥</span>
<span class="go">⎣          0          ⎦</span>
</pre></div>
</div>
</dd></dl>

<p class="rubric">Methods Documentation</p>
<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.add_compartment">
<span class="sig-name descname"><span class="pre">add_compartment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/statements.html#CompartmentalSystem.add_compartment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.CompartmentalSystem.add_compartment" title="Permalink to this definition">#</a></dt>
<dd><p>Create and add compartment to system</p>
<p>The compartment will be added without any flows to other compartments.
Use the add_flow method to add flows to and from the newly added compartment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – Name for created compartment</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>Compartment</em> – Newly created compartment</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy</span> <span class="kn">import</span> <span class="n">CompartmentalSystem</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odes</span> <span class="o">=</span> <span class="n">CompartmentalSystem</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">central</span> <span class="o">=</span> <span class="n">odes</span><span class="o">.</span><span class="n">add_compartment</span><span class="p">(</span><span class="s2">&quot;CENTRAL&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.add_flow">
<span class="sig-name descname"><span class="pre">add_flow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/statements.html#CompartmentalSystem.add_flow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.CompartmentalSystem.add_flow" title="Permalink to this definition">#</a></dt>
<dd><p>Add flow between two compartments</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>Compartment</em>) – Source compartment</p></li>
<li><p><strong>destination</strong> (<em>Compartment</em>) – Destination compartment</p></li>
<li><p><strong>rate</strong> (<em>Expression</em>) – Symbolic rate of flow</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy</span> <span class="kn">import</span> <span class="n">CompartmentalSystem</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odes</span> <span class="o">=</span> <span class="n">CompartmentalSystem</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depot</span> <span class="o">=</span> <span class="n">odes</span><span class="o">.</span><span class="n">add_compartment</span><span class="p">(</span><span class="s2">&quot;DEPOT&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">central</span> <span class="o">=</span> <span class="n">odes</span><span class="o">.</span><span class="n">add_compartment</span><span class="p">(</span><span class="s2">&quot;CENTRAL&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odes</span><span class="o">.</span><span class="n">add_flow</span><span class="p">(</span><span class="n">depot</span><span class="p">,</span> <span class="n">central</span><span class="p">,</span> <span class="s2">&quot;KA&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.atoms">
<span class="sig-name descname"><span class="pre">atoms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/statements.html#CompartmentalSystem.atoms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.CompartmentalSystem.atoms" title="Permalink to this definition">#</a></dt>
<dd><p>Get set of all symbolic atoms of some kind</p>
<p>For more information see
<a class="reference external" href="https://docs.sympy.org/latest/modules/core.html#sympy.core.basic.Basic.atoms">https://docs.sympy.org/latest/modules/core.html#sympy.core.basic.Basic.atoms</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cls</strong> (<em>type</em>) – Type of atoms to find</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>set</em> – Set of symbolic atoms</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/statements.html#CompartmentalSystem.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.CompartmentalSystem.copy" title="Permalink to this definition">#</a></dt>
<dd><p>Create a copy of the CompartmentalSystem object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.find_compartment">
<span class="sig-name descname"><span class="pre">find_compartment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/statements.html#CompartmentalSystem.find_compartment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.CompartmentalSystem.find_compartment" title="Permalink to this definition">#</a></dt>
<dd><p>Find a compartment using its name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – Name of compartment to find</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>Compartment</em> – Compartment named name or None if not found</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">load_example_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">load_example_model</span><span class="p">(</span><span class="s2">&quot;pheno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">central</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">find_compartment</span><span class="p">(</span><span class="s2">&quot;CENTRAL&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">central</span>
<span class="go">Compartment(CENTRAL, dose=Bolus(AMT))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.find_depot">
<span class="sig-name descname"><span class="pre">find_depot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statements</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/statements.html#CompartmentalSystem.find_depot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.CompartmentalSystem.find_depot" title="Permalink to this definition">#</a></dt>
<dd><p>Find the depot compartment</p>
<p>The depot compartment is defined to be the compartment that only has out flow to the
central compartment, but no flow from the central compartment.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>Compartment</em> – Depot compartment</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">load_example_model</span><span class="p">,</span> <span class="n">set_first_order_absorption</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">load_example_model</span><span class="p">(</span><span class="s2">&quot;pheno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set_first_order_absorption</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>       
<span class="go">&lt;...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">find_depot</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="p">)</span>
<span class="go">Compartment(DEPOT, dose=Bolus(AMT))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.find_transit_compartments">
<span class="sig-name descname"><span class="pre">find_transit_compartments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">statements</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/statements.html#CompartmentalSystem.find_transit_compartments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.CompartmentalSystem.find_transit_compartments" title="Permalink to this definition">#</a></dt>
<dd><p>Find all transit compartments</p>
<p>Transit compartments are a chain of compartments with the same out rate starting from
the dose compartment. Because one single transit compartment cannot be distinguished
from one depot compartment such compartment will be defined to be a depot and not
a transit compartment.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><em>list of compartments</em> – Transit compartments</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">load_example_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">load_example_model</span><span class="p">(</span><span class="s2">&quot;pheno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">find_transit_compartments</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="p">)</span>
<span class="go">[]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.get_compartment_inflows">
<span class="sig-name descname"><span class="pre">get_compartment_inflows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">compartment</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/statements.html#CompartmentalSystem.get_compartment_inflows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.CompartmentalSystem.get_compartment_inflows" title="Permalink to this definition">#</a></dt>
<dd><p>Get list of all flows going in to a compartment</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>compartment</strong> (<em>Compartment or str</em>) – Get inflows to this compartment</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>list</em> – Pairs of compartments and symbolic rates</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">load_example_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">load_example_model</span><span class="p">(</span><span class="s2">&quot;pheno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">get_compartment_inflows</span><span class="p">(</span><span class="s2">&quot;OUTPUT&quot;</span><span class="p">)</span>
<span class="go">[(Compartment(CENTRAL, dose=Bolus(AMT)), CL/V)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.get_compartment_outflows">
<span class="sig-name descname"><span class="pre">get_compartment_outflows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">compartment</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/statements.html#CompartmentalSystem.get_compartment_outflows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.CompartmentalSystem.get_compartment_outflows" title="Permalink to this definition">#</a></dt>
<dd><p>Get list of all flows going out from a compartment</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>compartment</strong> (<em>Compartment or str</em>) – Get outflows for this compartment</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>list</em> – Pairs of compartments and symbolic rates</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">load_example_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">load_example_model</span><span class="p">(</span><span class="s2">&quot;pheno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">get_compartment_outflows</span><span class="p">(</span><span class="s2">&quot;CENTRAL&quot;</span><span class="p">)</span>
<span class="go">[(Compartment(OUTPUT), CL/V)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.get_flow">
<span class="sig-name descname"><span class="pre">get_flow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/statements.html#CompartmentalSystem.get_flow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.CompartmentalSystem.get_flow" title="Permalink to this definition">#</a></dt>
<dd><p>Get the rate of flow between two compartments</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>Compartment</em>) – Source compartment</p></li>
<li><p><strong>destination</strong> (<em>Compartment</em>) – Destination compartment</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>Expression</em> – Symbolic rate</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy</span> <span class="kn">import</span> <span class="n">CompartmentalSystem</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odes</span> <span class="o">=</span> <span class="n">CompartmentalSystem</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depot</span> <span class="o">=</span> <span class="n">odes</span><span class="o">.</span><span class="n">add_compartment</span><span class="p">(</span><span class="s2">&quot;DEPOT&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">central</span> <span class="o">=</span> <span class="n">odes</span><span class="o">.</span><span class="n">add_compartment</span><span class="p">(</span><span class="s2">&quot;CENTRAL&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odes</span><span class="o">.</span><span class="n">add_flow</span><span class="p">(</span><span class="n">depot</span><span class="p">,</span> <span class="n">central</span><span class="p">,</span> <span class="s2">&quot;KA&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odes</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">depot</span><span class="p">,</span> <span class="n">central</span><span class="p">)</span>
<span class="go">KA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odes</span><span class="o">.</span><span class="n">get_flow</span><span class="p">(</span><span class="n">central</span><span class="p">,</span> <span class="n">depot</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.get_n_connected">
<span class="sig-name descname"><span class="pre">get_n_connected</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/statements.html#CompartmentalSystem.get_n_connected"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.CompartmentalSystem.get_n_connected" title="Permalink to this definition">#</a></dt>
<dd><p>Get the number of compartments connected to a compartment</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>comp</strong> (<em>Compartment or str</em>) – The compartment</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>int</em> – Number of compartments connected to comp</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">load_example_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">load_example_model</span><span class="p">(</span><span class="s2">&quot;pheno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">get_n_connected</span><span class="p">(</span><span class="s2">&quot;CENTRAL&quot;</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.remove_compartment">
<span class="sig-name descname"><span class="pre">remove_compartment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">compartment</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/statements.html#CompartmentalSystem.remove_compartment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.CompartmentalSystem.remove_compartment" title="Permalink to this definition">#</a></dt>
<dd><p>Remove compartment from system</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>compartment</strong> (<em>Compartment</em>) – Compartment object to remove from system</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy</span> <span class="kn">import</span> <span class="n">CompartmentalSystem</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odes</span> <span class="o">=</span> <span class="n">CompartmentalSystem</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">central</span> <span class="o">=</span> <span class="n">odes</span><span class="o">.</span><span class="n">add_compartment</span><span class="p">(</span><span class="s2">&quot;CENTRAL&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odes</span><span class="o">.</span><span class="n">remove_compartment</span><span class="p">(</span><span class="n">central</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.remove_flow">
<span class="sig-name descname"><span class="pre">remove_flow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/statements.html#CompartmentalSystem.remove_flow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.CompartmentalSystem.remove_flow" title="Permalink to this definition">#</a></dt>
<dd><p>Remove flow between two compartments</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>Compartment</em>) – Source compartment</p></li>
<li><p><strong>destination</strong> (<em>Compartment</em>) – Destination compartment</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy</span> <span class="kn">import</span> <span class="n">CompartmentalSystem</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odes</span> <span class="o">=</span> <span class="n">CompartmentalSystem</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">depot</span> <span class="o">=</span> <span class="n">odes</span><span class="o">.</span><span class="n">add_compartment</span><span class="p">(</span><span class="s2">&quot;DEPOT&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">central</span> <span class="o">=</span> <span class="n">odes</span><span class="o">.</span><span class="n">add_compartment</span><span class="p">(</span><span class="s2">&quot;CENTRAL&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odes</span><span class="o">.</span><span class="n">add_flow</span><span class="p">(</span><span class="n">depot</span><span class="p">,</span> <span class="n">central</span><span class="p">,</span> <span class="s2">&quot;KA&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odes</span><span class="o">.</span><span class="n">remove_flow</span><span class="p">(</span><span class="n">depot</span><span class="p">,</span> <span class="n">central</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.subs">
<span class="sig-name descname"><span class="pre">subs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">substitutions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/statements.html#CompartmentalSystem.subs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.CompartmentalSystem.subs" title="Permalink to this definition">#</a></dt>
<dd><p>Substitute expressions or symbols in ODE system</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">load_example_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">load_example_model</span><span class="p">(</span><span class="s2">&quot;pheno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="s1">&#39;AMT&#39;</span><span class="p">:</span> <span class="s1">&#39;DOSE&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span>
<span class="go">Bolus(DOSE)</span>
<span class="go">┌───────┐       ┌──────┐</span>
<span class="go">│CENTRAL│──CL/V→│OUTPUT│</span>
<span class="go">└───────┘       └──────┘</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.to_compartmental_system">
<span class="sig-name descname"><span class="pre">to_compartmental_system</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/statements.html#CompartmentalSystem.to_compartmental_system"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.CompartmentalSystem.to_compartmental_system" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.CompartmentalSystem.to_explicit_system">
<span class="sig-name descname"><span class="pre">to_explicit_system</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/statements.html#CompartmentalSystem.to_explicit_system"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.CompartmentalSystem.to_explicit_system" title="Permalink to this definition">#</a></dt>
<dd><p>Get the compartmental system as an explicit ODE system</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>skip_output</strong> (<em>boolean</em>) – Set to true to leave the output compartment out</p></li>
<li><p><strong>Results</strong></p></li>
<li><p><strong>——-</strong></p></li>
<li><p><strong>ExplicitODESystem</strong> – The same ODE system with explicit equations and initial conditions</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy.modeling</span> <span class="kn">import</span> <span class="n">load_example_model</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">load_example_model</span><span class="p">(</span><span class="s2">&quot;pheno&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odes</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">statements</span><span class="o">.</span><span class="n">ode_system</span><span class="o">.</span><span class="n">to_explicit_system</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">odes</span>
<span class="go">⎧d                  -CL⋅A_CENTRAL(t)</span>
<span class="go">⎪──(A_CENTRAL(t)) = ─────────────────</span>
<span class="go">⎪dt                         V</span>
<span class="go">⎨d                 CL⋅A_CENTRAL(t)</span>
<span class="go">⎪──(A_OUTPUT(t)) = ───────────────</span>
<span class="go">⎪dt                       V</span>
<span class="go">⎪A_CENTRAL(0) = AMT</span>
<span class="go">⎩A_OUTPUT(0) = 0</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>


              </article>
              

              
              <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="pharmpy.Compartment.html" title="previous page">
      <i class="fas fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Compartment</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="pharmpy.DataInfo.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">DataInfo</p>
  </div>
  <i class="fas fa-angle-right"></i>
  </a>
</div>
              </footer>
              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright 2018-2022; the Pharmpy development team.<br>
</p>
  </div>
  
  <div class="footer-item">
    <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>
  </div>
  
</div>
</footer>
  </body>
</html>