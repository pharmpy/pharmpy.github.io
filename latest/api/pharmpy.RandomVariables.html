
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>RandomVariables &#8212; Pharmpy 0.49.0 documentation</title>
    
    <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
  
    
    <link rel="stylesheet"
      href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">
  
    
      
  
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/pydata-sphinx-theme.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    
    <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">
  
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="VariabilityHierarchy" href="pharmpy.VariabilityHierarchy.html" />
    <link rel="prev" title="RandomVariable" href="pharmpy.RandomVariable.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    
<a class="navbar-brand" href="../index.html">
<p class="title">Pharmpy</p>
</a>

    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../contributors.html">
  About us
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../getting_started.html">
  Getting started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../user_guide.html">
  User guide
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../api.html">
  API Reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../changelog.html">
  Changelog
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../contribute.html">
  Contribute
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../citation.html">
  References and citation
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../license.html">
  License
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
<h3><a href="../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../contributors.html">About us</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide.html">User guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../api_pharmpy.html">pharmpy Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_modeling.html">pharmpy.modeling Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_workflows.html">pharmpy.workflows Package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citation.html">References and citation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/pharmpy.RandomVariables.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                

<nav id="bd-toc-nav">
    
</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="randomvariables">
<h1>RandomVariables<a class="headerlink" href="#randomvariables" title="Permalink to this headline">¬∂</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="pharmpy.RandomVariables">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pharmpy.</span></span><span class="sig-name descname"><span class="pre">RandomVariables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rvs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/random_variables.html#RandomVariables"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.RandomVariables" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.MutableSequence</span></code></p>
<p>A collection of random variables</p>
<p>This class provides a container for random variables that preserves their order
and acts list-like while also allowing for indexing on names.</p>
<p>Each RandomVariables object has two VariabilityHierarchies that describes the
allowed variability levels for the contined random variables. One hierarchy
for residual error variability (epsilons) and one for parameter variability (etas).
By default the eta hierarchy has the two levels IIV and IOV and the epsilon
hierarchy has one single level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rvs</strong> (<em>list</em>) ‚Äì A list of RandomVariable to add. Default is to create an empty RandomVariabels.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy</span> <span class="kn">import</span> <span class="n">RandomVariables</span><span class="p">,</span> <span class="n">RandomVariable</span><span class="p">,</span> <span class="n">Parameter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">omega</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="s2">&quot;OMEGA_CL&quot;</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rv</span> <span class="o">=</span> <span class="n">RandomVariable</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="s2">&quot;IIV_CL&quot;</span><span class="p">,</span> <span class="s2">&quot;iiv&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">omega</span><span class="o">.</span><span class="n">symbol</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rvs</span> <span class="o">=</span> <span class="n">RandomVariables</span><span class="p">([</span><span class="n">rv</span><span class="p">])</span>
</pre></div>
</div>
<p class="rubric">Attributes Summary</p>
<table class="longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.covariance_matrix" title="pharmpy.RandomVariables.covariance_matrix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">covariance_matrix</span></code></a></p></td>
<td><p>Covariance matrix of all random variables</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.epsilons" title="pharmpy.RandomVariables.epsilons"><code class="xref py py-obj docutils literal notranslate"><span class="pre">epsilons</span></code></a></p></td>
<td><p>Get only the epsilons</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.etas" title="pharmpy.RandomVariables.etas"><code class="xref py py-obj docutils literal notranslate"><span class="pre">etas</span></code></a></p></td>
<td><p>Get only the etas</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.free_symbols" title="pharmpy.RandomVariables.free_symbols"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free_symbols</span></code></a></p></td>
<td><p>Set of free symbols for all random variables</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.iiv" title="pharmpy.RandomVariables.iiv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iiv</span></code></a></p></td>
<td><p>Get only the iiv etas, i.e. etas with variability level 0.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.iov" title="pharmpy.RandomVariables.iov"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iov</span></code></a></p></td>
<td><p>Get only the iov etas, i.e. etas with variability level 1.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.names" title="pharmpy.RandomVariables.names"><code class="xref py py-obj docutils literal notranslate"><span class="pre">names</span></code></a></p></td>
<td><p>List of the names of all random variables</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.parameter_names" title="pharmpy.RandomVariables.parameter_names"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parameter_names</span></code></a></p></td>
<td><p>List of parameter names for all random variables</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.variance_parameters" title="pharmpy.RandomVariables.variance_parameters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">variance_parameters</span></code></a></p></td>
<td><p>List of all parameters representing variance for all random variables</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Summary</p>
<table class="longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.copy" title="pharmpy.RandomVariables.copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code></a>()</p></td>
<td><p>Make copy of RandomVariables</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.distributions" title="pharmpy.RandomVariables.distributions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">distributions</span></code></a>()</p></td>
<td><p>List with one entry per distribution instead of per random variable.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.get_covariance" title="pharmpy.RandomVariables.get_covariance"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_covariance</span></code></a>(rv1,¬†rv2)</p></td>
<td><p>Get covariance between two random variables</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.get_variance" title="pharmpy.RandomVariables.get_variance"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_variance</span></code></a>(rv)</p></td>
<td><p>Get variance for a random variable</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.insert" title="pharmpy.RandomVariables.insert"><code class="xref py py-obj docutils literal notranslate"><span class="pre">insert</span></code></a>(ind,¬†value)</p></td>
<td><p>S.insert(index, value) -- insert value before index</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.join" title="pharmpy.RandomVariables.join"><code class="xref py py-obj docutils literal notranslate"><span class="pre">join</span></code></a>(inds[,¬†fill,¬†name_template,¬†param_names])</p></td>
<td><p>Join random variables together into one joint distribution</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.nearest_valid_parameters" title="pharmpy.RandomVariables.nearest_valid_parameters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nearest_valid_parameters</span></code></a>(parameter_values)</p></td>
<td><p>Force parameter values into being valid</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.parameters_sdcorr" title="pharmpy.RandomVariables.parameters_sdcorr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parameters_sdcorr</span></code></a>(values)</p></td>
<td><p>Convert parameter values to sd/corr form</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.sample" title="pharmpy.RandomVariables.sample"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample</span></code></a>(expr[,¬†parameters,¬†samples,¬†rng])</p></td>
<td><p>Sample from the distribution of expr</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.subs" title="pharmpy.RandomVariables.subs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">subs</span></code></a>(d)</p></td>
<td><p>Substitute expressions</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.unjoin" title="pharmpy.RandomVariables.unjoin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unjoin</span></code></a>(inds)</p></td>
<td><p>Remove all covariances the random variables have with other random variables</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pharmpy.RandomVariables.validate_parameters" title="pharmpy.RandomVariables.validate_parameters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">validate_parameters</span></code></a>(parameter_values)</p></td>
<td><p>Validate a dict or Series of parameter values</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Documentation</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.covariance_matrix">
<span class="sig-name descname"><span class="pre">covariance_matrix</span></span><a class="headerlink" href="#pharmpy.RandomVariables.covariance_matrix" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Covariance matrix of all random variables</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.epsilons">
<span class="sig-name descname"><span class="pre">epsilons</span></span><a class="headerlink" href="#pharmpy.RandomVariables.epsilons" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Get only the epsilons</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.etas">
<span class="sig-name descname"><span class="pre">etas</span></span><a class="headerlink" href="#pharmpy.RandomVariables.etas" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Get only the etas</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.free_symbols">
<span class="sig-name descname"><span class="pre">free_symbols</span></span><a class="headerlink" href="#pharmpy.RandomVariables.free_symbols" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Set of free symbols for all random variables</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.iiv">
<span class="sig-name descname"><span class="pre">iiv</span></span><a class="headerlink" href="#pharmpy.RandomVariables.iiv" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Get only the iiv etas, i.e. etas with variability level 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.iov">
<span class="sig-name descname"><span class="pre">iov</span></span><a class="headerlink" href="#pharmpy.RandomVariables.iov" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Get only the iov etas, i.e. etas with variability level 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.names">
<span class="sig-name descname"><span class="pre">names</span></span><a class="headerlink" href="#pharmpy.RandomVariables.names" title="Permalink to this definition">¬∂</a></dt>
<dd><p>List of the names of all random variables</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.parameter_names">
<span class="sig-name descname"><span class="pre">parameter_names</span></span><a class="headerlink" href="#pharmpy.RandomVariables.parameter_names" title="Permalink to this definition">¬∂</a></dt>
<dd><p>List of parameter names for all random variables</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.variance_parameters">
<span class="sig-name descname"><span class="pre">variance_parameters</span></span><a class="headerlink" href="#pharmpy.RandomVariables.variance_parameters" title="Permalink to this definition">¬∂</a></dt>
<dd><p>List of all parameters representing variance for all random variables</p>
</dd></dl>

<p class="rubric">Methods Documentation</p>
<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/random_variables.html#RandomVariables.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.RandomVariables.copy" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Make copy of RandomVariables</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.distributions">
<span class="sig-name descname"><span class="pre">distributions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/random_variables.html#RandomVariables.distributions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.RandomVariables.distributions" title="Permalink to this definition">¬∂</a></dt>
<dd><p>List with one entry per distribution instead of per random variable.</p>
<p>Returned is a list of tuples of a list of random variables that are jointly
distributed and the distribution.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy</span> <span class="kn">import</span> <span class="n">RandomVariables</span><span class="p">,</span> <span class="n">RandomVariable</span><span class="p">,</span> <span class="n">Parameter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">omega_cl</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="s2">&quot;OMEGA_CL&quot;</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">omega_v</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="s2">&quot;OMEGA_V&quot;</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">omega_ka</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="s2">&quot;OMEGA_KA&quot;</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">corr_cl_v</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="s2">&quot;OMEGA_CL_V&quot;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rv1</span><span class="p">,</span> <span class="n">rv2</span> <span class="o">=</span> <span class="n">RandomVariable</span><span class="o">.</span><span class="n">joint_normal</span><span class="p">([</span><span class="s2">&quot;IIV_CL&quot;</span><span class="p">,</span> <span class="s2">&quot;IIV_V&quot;</span><span class="p">],</span> <span class="s1">&#39;IIV&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[[</span><span class="n">omega_cl</span><span class="o">.</span><span class="n">symbol</span><span class="p">,</span> <span class="n">corr_cl_v</span><span class="o">.</span><span class="n">symbol</span><span class="p">],</span> <span class="p">[</span><span class="n">corr_cl_v</span><span class="o">.</span><span class="n">symbol</span><span class="p">,</span> <span class="n">omega_v</span><span class="o">.</span><span class="n">symbol</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rv3</span> <span class="o">=</span> <span class="n">RandomVariable</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="s2">&quot;IIV_KA&quot;</span><span class="p">,</span> <span class="s1">&#39;IIV&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">omega_ka</span><span class="o">.</span><span class="n">symbol</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rvs</span> <span class="o">=</span> <span class="n">RandomVariables</span><span class="p">([</span><span class="n">rv1</span><span class="p">,</span> <span class="n">rv2</span><span class="p">,</span> <span class="n">rv3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dists</span> <span class="o">=</span> <span class="n">rvs</span><span class="o">.</span><span class="n">distributions</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.get_covariance">
<span class="sig-name descname"><span class="pre">get_covariance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rv1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rv2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/random_variables.html#RandomVariables.get_covariance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.RandomVariables.get_covariance" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Get covariance between two random variables</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.get_variance">
<span class="sig-name descname"><span class="pre">get_variance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rv</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/random_variables.html#RandomVariables.get_variance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.RandomVariables.get_variance" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Get variance for a random variable</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.insert">
<span class="sig-name descname"><span class="pre">insert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/random_variables.html#RandomVariables.insert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.RandomVariables.insert" title="Permalink to this definition">¬∂</a></dt>
<dd><p>S.insert(index, value) ‚Äì insert value before index</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.join">
<span class="sig-name descname"><span class="pre">join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_template</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/random_variables.html#RandomVariables.join"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.RandomVariables.join" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Join random variables together into one joint distribution</p>
<p>Set new covariances (and previous 0 covs) to ‚Äòfill‚Äô</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inds</strong> ‚Äì Indices of variables to join</p></li>
<li><p><strong>fill</strong> (<em>value</em>) ‚Äì Value to use for new covariances. Default is 0</p></li>
<li><p><strong>name_template</strong> (<em>str</em>) ‚Äì A string template to use for new covariance symbols.
Using this option will override fill.</p></li>
<li><p><strong>param_names</strong> (<em>list</em>) ‚Äì List of parameter names to be used together with
name_template.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>A dictionary from newly created covariance parameter names to</em></p></li>
<li><p><em>tuple of parameter names. Empty dictionary if no parameter</em></p></li>
<li><p><em>symbols were created</em></p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy</span> <span class="kn">import</span> <span class="n">RandomVariables</span><span class="p">,</span> <span class="n">RandomVariable</span><span class="p">,</span> <span class="n">Parameter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">omega_cl</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="s2">&quot;OMEGA_CL&quot;</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">omega_v</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="s2">&quot;OMEGA_V&quot;</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rv1</span> <span class="o">=</span> <span class="n">RandomVariable</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="s2">&quot;IIV_CL&quot;</span><span class="p">,</span> <span class="s1">&#39;IIV&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">omega_cl</span><span class="o">.</span><span class="n">symbol</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rv2</span> <span class="o">=</span> <span class="n">RandomVariable</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="s2">&quot;IIV_V&quot;</span><span class="p">,</span> <span class="s1">&#39;IIV&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">omega_v</span><span class="o">.</span><span class="n">symbol</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rvs</span> <span class="o">=</span> <span class="n">RandomVariables</span><span class="p">([</span><span class="n">rv1</span><span class="p">,</span> <span class="n">rv2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rvs</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39;IIV_CL&#39;</span><span class="p">,</span> <span class="s1">&#39;IIV_V&#39;</span><span class="p">])</span>
<span class="go">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rvs</span>
<span class="go">‚é°IIV_CL‚é§     ‚éß‚é°0‚é§  ‚é°OMEGA_CL     0   ‚é§‚é´</span>
<span class="go">‚é¢      ‚é• ~ ùí© ‚é™‚é¢ ‚é•, ‚é¢                 ‚é•‚é™</span>
<span class="go">‚é£IIV_V ‚é¶     ‚é©‚é£0‚é¶  ‚é£   0      OMEGA_V‚é¶‚é≠</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#pharmpy.RandomVariables.unjoin" title="pharmpy.RandomVariables.unjoin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unjoin</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.nearest_valid_parameters">
<span class="sig-name descname"><span class="pre">nearest_valid_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameter_values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/random_variables.html#RandomVariables.nearest_valid_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.RandomVariables.nearest_valid_parameters" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Force parameter values into being valid</p>
<p>As small changes as possible</p>
<p>returns a dict with the valid parameter values</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.parameters_sdcorr">
<span class="sig-name descname"><span class="pre">parameters_sdcorr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/random_variables.html#RandomVariables.parameters_sdcorr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.RandomVariables.parameters_sdcorr" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Convert parameter values to sd/corr form</p>
<p>All parameter values will be converted to sd/corr assuming
they are given in var/cov form. Only parameters for normal
distributions will be affected.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>values</strong> (<em>dict</em>) ‚Äì Dict of parameter names to values</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.sample">
<span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/random_variables.html#RandomVariables.sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.RandomVariables.sample" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Sample from the distribution of expr</p>
<p>parameters in the distriutions will first be replaced</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.subs">
<span class="sig-name descname"><span class="pre">subs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/random_variables.html#RandomVariables.subs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.RandomVariables.subs" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Substitute expressions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d</strong> (<em>dict</em>) ‚Äì Dictionary of from: to pairs for substitution</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sympy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy</span> <span class="kn">import</span> <span class="n">RandomVariables</span><span class="p">,</span> <span class="n">Parameter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">omega</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="s2">&quot;OMEGA_CL&quot;</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rv</span> <span class="o">=</span> <span class="n">RandomVariable</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="s2">&quot;IIV_CL&quot;</span><span class="p">,</span> <span class="s2">&quot;IIV&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">omega</span><span class="o">.</span><span class="n">symbol</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rvs</span> <span class="o">=</span> <span class="n">RandomVariables</span><span class="p">([</span><span class="n">rv</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rvs</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="n">omega</span><span class="o">.</span><span class="n">symbol</span><span class="p">:</span> <span class="n">sympy</span><span class="o">.</span><span class="n">Symbol</span><span class="p">(</span><span class="s2">&quot;OMEGA_NEW&quot;</span><span class="p">)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rvs</span>
<span class="go">IIV_CL ~ ùí© (0, OMEGA_NEW)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.unjoin">
<span class="sig-name descname"><span class="pre">unjoin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inds</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/random_variables.html#RandomVariables.unjoin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.RandomVariables.unjoin" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Remove all covariances the random variables have with other random variables</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inds</strong> ‚Äì One or multiple indices to unjoin</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pharmpy</span> <span class="kn">import</span> <span class="n">RandomVariables</span><span class="p">,</span> <span class="n">RandomVariable</span><span class="p">,</span> <span class="n">Parameter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">omega_cl</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="s2">&quot;OMEGA_CL&quot;</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">omega_v</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="s2">&quot;OMEGA_V&quot;</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">corr_cl_v</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="s2">&quot;OMEGA_CL_V&quot;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rv1</span><span class="p">,</span> <span class="n">rv2</span> <span class="o">=</span> <span class="n">RandomVariable</span><span class="o">.</span><span class="n">joint_normal</span><span class="p">([</span><span class="s2">&quot;IIV_CL&quot;</span><span class="p">,</span> <span class="s2">&quot;IIV_V&quot;</span><span class="p">],</span> <span class="s1">&#39;IIV&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[[</span><span class="n">omega_cl</span><span class="o">.</span><span class="n">symbol</span><span class="p">,</span> <span class="n">corr_cl_v</span><span class="o">.</span><span class="n">symbol</span><span class="p">],</span> <span class="p">[</span><span class="n">corr_cl_v</span><span class="o">.</span><span class="n">symbol</span><span class="p">,</span> <span class="n">omega_v</span><span class="o">.</span><span class="n">symbol</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rvs</span> <span class="o">=</span> <span class="n">RandomVariables</span><span class="p">([</span><span class="n">rv1</span><span class="p">,</span> <span class="n">rv2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rvs</span><span class="o">.</span><span class="n">unjoin</span><span class="p">(</span><span class="s1">&#39;IIV_CL&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rvs</span>
<span class="go">IIV_CL ~ ùí© (0, OMEGA_CL)</span>
<span class="go">IIV_V ~ ùí© (0, OMEGA_V)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#pharmpy.RandomVariables.join" title="pharmpy.RandomVariables.join"><code class="xref py py-obj docutils literal notranslate"><span class="pre">join</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pharmpy.RandomVariables.validate_parameters">
<span class="sig-name descname"><span class="pre">validate_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameter_values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/random_variables.html#RandomVariables.validate_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pharmpy.RandomVariables.validate_parameters" title="Permalink to this definition">¬∂</a></dt>
<dd><p>Validate a dict or Series of parameter values</p>
<p>Currently checks that all covariance matrices are posdef
use_cache for using symengine cached matrices</p>
</dd></dl>

</dd></dl>

</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="pharmpy.RandomVariable.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">RandomVariable</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="pharmpy.VariabilityHierarchy.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">VariabilityHierarchy</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
    <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2018-2021; the Pharmpy development team.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.4.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>