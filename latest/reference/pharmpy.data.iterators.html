
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>pharmpy.data.iterators module &#8212; Pharmpy 0.13.0 documentation</title>
    
  <link rel="stylesheet" href="../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/thebelab-helper.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="pharmpy.data.read module" href="pharmpy.data.read.html" />
    <link rel="prev" title="pharmpy.data.data_frame module" href="pharmpy.data.data_frame.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    <a class="navbar-brand" href="../index.html">
    
      <p class="title">Pharmpy</p>
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../getting_started.html">Getting started</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../user_guide.html">User guide</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="modules.html">API reference</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../development.html">Contribute</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../changelog.html">Changelog</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../license.html">License</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
<h3><a href="../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide.html">User guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="pharmpy.html">pharmpy package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/reference/pharmpy.data.iterators.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#data-iterators" class="nav-link">data.iterators</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#inheritance-diagram" class="nav-link">Inheritance Diagram</a>
        </li>
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="module-pharmpy.data.iterators">
<span id="pharmpy-data-iterators-module"></span><h1>pharmpy.data.iterators module<a class="headerlink" href="#module-pharmpy.data.iterators" title="Permalink to this headline">¶</a></h1>
<div class="section" id="data-iterators">
<h2>data.iterators<a class="headerlink" href="#data-iterators" title="Permalink to this headline">¶</a></h2>
<p>Iterators generating new datasets from a dataset. The dataset could either be stand alone
or connected to a model. If a model is used the same model will be updated with different
datasets for each iteration.</p>
<p>Currenly contains:</p>
<ol class="arabic simple">
<li><p>Omit - Can be used for cdd</p></li>
<li><p>Resample - Can be used by bootstrap</p></li>
</ol>
<dl class="py class">
<dt id="pharmpy.data.iterators.DatasetIterator">
<em class="property">class </em><code class="sig-prename descclassname">pharmpy.data.iterators.</code><code class="sig-name descname">DatasetIterator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterations</span></em>, <em class="sig-param"><span class="n">name_pattern</span><span class="o">=</span><span class="default_value">'dataset_{}'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/data/iterators.html#DatasetIterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pharmpy.data.iterators.DatasetIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for iterator classes that generate new datasets from an input dataset</p>
<p>The __next__ function could return either a DataFrame or a tuple where the first
element is the main DataFrame.</p>
</dd></dl>

<dl class="py class">
<dt id="pharmpy.data.iterators.Omit">
<em class="property">class </em><code class="sig-prename descclassname">pharmpy.data.iterators.</code><code class="sig-name descname">Omit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dataset_or_model</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">name_pattern</span><span class="o">=</span><span class="default_value">'omitted_{}'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/data/iterators.html#Omit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pharmpy.data.iterators.Omit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pharmpy.data.iterators.DatasetIterator" title="pharmpy.data.iterators.DatasetIterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">pharmpy.data.iterators.DatasetIterator</span></code></a></p>
<p>Iterate over omissions of a certain group in a dataset. One group is omitted at a time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_or_model</strong> – DataFrame to iterate over or a model from which to use the dataset</p></li>
<li><p><strong>group</strong> (<em>colname</em>) – Name of the column to use for grouping</p></li>
<li><p><strong>name_pattern</strong> – Name to use for generated datasets. A number starting from 1 will
be put in the placeholder.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tuple of DataFrame and the omitted group</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="pharmpy.data.iterators.Resample">
<em class="property">class </em><code class="sig-prename descclassname">pharmpy.data.iterators.</code><code class="sig-name descname">Resample</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dataset_or_model</span></em>, <em class="sig-param"><span class="n">group</span></em>, <em class="sig-param"><span class="n">resamples</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">stratify</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sample_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">replace</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">name_pattern</span><span class="o">=</span><span class="default_value">'resample_{}'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pharmpy/data/iterators.html#Resample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pharmpy.data.iterators.Resample" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pharmpy.data.iterators.DatasetIterator" title="pharmpy.data.iterators.DatasetIterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">pharmpy.data.iterators.DatasetIterator</span></code></a></p>
<p>Iterate over resamples of a dataset.</p>
<p>The dataset will be grouped on the group column then groups will be selected
randomly with or without replacement to form a new dataset.
The groups will be renumbered from 1 and upwards to keep them separated in the new
dataset.</p>
<p>Stratification will make sure that</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>DataFrame</em>) – DataFrame to iterate over</p></li>
<li><p><strong>group</strong> (<em>colname</em>) – Name of column to group by</p></li>
<li><p><strong>resamples</strong> (<em>Int</em>) – Number of resamples (iterations) to make</p></li>
<li><p><strong>stratify</strong> (<em>colname</em>) – Name of column to use for stratification.
The values in the stratification column must be equal within a group so that the group
can be uniquely determined. A ValueError exception will be raised otherwise.</p></li>
<li><p><strong>sample_size</strong> (<em>Int</em>) – The number of groups that should be sampled. The default is
the number of groups. If using stratification the default is to sample using the
proportion of the stratas in the dataset. A dictionary of specific sample sizes
for each strata can also be supplied.</p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – A boolean controlling whether sampling should be done with or
without replacement</p></li>
<li><p><strong>name_pattern</strong> – Name to use for generated datasets. A number starting from 1 will
be put in the placeholder.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of a resampled DataFrame and a list of resampled groups in order</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="inheritance-diagram">
<h2>Inheritance Diagram<a class="headerlink" href="#inheritance-diagram" title="Permalink to this headline">¶</a></h2>
<div class="graphviz"><object data="../_images/inheritance-9819f0af6ad62850f858210b99c4d01e0e1aea04.svg" type="image/svg+xml" class="inheritance graphviz">
<p class="warning">Inheritance diagram of pharmpy.data.iterators</p></object></div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="pharmpy.data.data_frame.html" title="previous page">pharmpy.data.data_frame module</a>
    <a class='right-next' id="next-link" href="pharmpy.data.read.html" title="next page">pharmpy.data.read module</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../_static/js/index.3da636dd464baa7582d2.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2018-2020; the Pharmpy development team.<br/>
        Last updated on Jan 18, 2021.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>